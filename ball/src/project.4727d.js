window.__require=function e(t,a,i){function o(s,c){if(!a[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var h=a[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,a,i)}return a[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({AddBall:[function(e,t,a){"use strict";cc._RF.push(t,"7f5242SX/pIVJYzkbyokvey","AddBall"),cc.Class({extends:cc.Component,properties:{BallPrefab:{default:null,type:cc.Prefab}},start:function(){},initBall:function(){var e=cc.find("Canvas/Environment/BallParent");this.newBall(e,this.node.position)},newBall:function(e,t){var a=cc.instantiate(this.BallPrefab);return a.position=t,e.addChild(a),a}}),cc._RF.pop()},{}],Ball:[function(e,t,a){"use strict";cc._RF.push(t,"35b3ancEOtKzLkDyEgeJhQS","Ball"),cc.Class({extends:cc.Component,properties:{fireBall:!1,inHand:!1},setFire:function(){this.fireBall=!0,this.node.color=new cc.Color(247,156,156)},start:function(){cc.RigidBodyType.Static,cc.RigidBodyType.Dynamic,cc.RigidBodyType.Kinematic,cc.RigidBodyType.Animated,this.physicsCircleCollider=this.node.getComponent(cc.PhysicsCircleCollider),this.rigidbody=this.node.getComponent(cc.RigidBody),this.max=1e3},update:function(e){var t=this.rigidbody.linearVelocity;Math.abs(t.x)>this.max&&(t.y=this.max/Math.abs(t.x)*t.y,this.rigidbody.linearVelocity=new cc.Vec2(t.x<0?-this.max:this.max,t.y)),Math.abs(t.y)>this.max&&(t.x=this.max/Math.abs(t.y)*t.x,this.rigidbody.linearVelocity=new cc.Vec2(t.x,t.y<0?-this.max:this.max)),Math.abs(t.y)<1&&Math.abs(t.x)<1&&(t.y=500,this.rigidbody.linearVelocity=t)},onCollisionExit:function(e,t){if(this.fireBall&&5==e.tag){if(e.getComponent(cc.CircleCollider))e.getComponent(cc.PhysicsCircleCollider)&&e.node.removeComponent(cc.PhysicsCircleCollider),e.node.removeComponent(cc.CircleCollider);var a=e.getComponent(cc.BoxCollider);if(a)a.enabled=!1,e.getComponent(cc.PhysicsBoxCollider)&&e.node.removeComponent(cc.PhysicsBoxCollider),e.node.removeComponent(cc.CircleCollider);var i=e.getComponent("MoveNode");i&&(e.node.stopActionByTag(1),i.enabled=!1);var o=e.getComponent("RotateNode");o&&(e.node.stopActionByTag(1),o.enabled=!1);var n=e.getComponent("SparkAnimation");n&&(n.enabled=!1),e.node.opacity=70,e.node.color=new cc.Color(80,80,80)}}}),cc._RF.pop()},{}],BounceBall:[function(e,t,a){"use strict";cc._RF.push(t,"e6cbaFQqmRGy7UkmC5o0Gse","BounceBall"),cc.Class({extends:cc.Component,properties:{power:{default:1.5,type:cc.Float}},start:function(){this.max=1e3,this.min=400},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&1==e.tag){var a=e.getComponent(cc.RigidBody).linearVelocity,i=e.getComponent(cc.PhysicsCircleCollider);Math.abs(a.y)<this.min&&this.power<=1?(this.ballRestitution=i.restitution,i.restitution=2,i.apply()):Math.abs(a.x)<this.max||Math.abs(a.y)<this.max?(this.ballRestitution=i.restitution,i.restitution=this.power,i.apply()):cc.log("max")}},onCollisionExit:function(e,t){if(e.name.startsWith("Ball")&&1==e.tag){var a=e.getComponent(cc.PhysicsCircleCollider);a.restitution=.7,a.apply()}}}),cc._RF.pop()},{}],DBStorage:[function(e,t,a){"use strict";var i;function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}cc._RF.push(t,"d72b7eG2jxHKLlKvA+lSmnw","DBStorage"),cc.Class((o(i={extends:cc.Component,properties:{data:"{}",callBackNode:{default:null,type:cc.Node}},load:function(e){this.data=e,null!=this.callBackNode&&this.callBackNode.emit("load-db")},start:function(){this.canvas=cc.find("Canvas");var e=cc.sys.localStorage.getItem("userID"),t=cc.sys.localStorage.getItem("team");if(""==this.getItem("coin")&&cc.sys.localStorage.setItem("coin",0),!e)return cc.sys.localStorage.clear(),cc.sys.localStorage.setItem("userID","45645654"),cc.sys.localStorage.setItem("token","43654654654"),cc.sys.localStorage.setItem("name","\u6e38\u5ba2"),void cc.director.loadScene("StartMenu");t||cc.sys.localStorage.setItem("team",1),"{}"==this.data&&this.loadDBFromServer()},createCORSRequest:function(e,t){var a=cc.loader.getXMLHttpRequest();return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a},loadDBFromServer:function(){},xhrGetCallback:function(e){var t=cc.director.getScene().getChildByName("DBStorage").getComponent("DBStorage");""==this.responseText?t.setItem("coin",5e3):t.data=this.responseText,t.save(),null!=t.callBackNode&&t.callBackNode.emit("load-db")},onLoad:function(){},resetAll:function(){this.data="{}"},getItem:function(e){return this.getItem(e,"")}},"getItem",function(e,t){var a=cc.sys.localStorage.getItem(e),i="";return t&&(i=t),null==a?i:a}),o(i,"setItem",function(e,t){return cc.sys.localStorage.setItem(e,t),this.data}),o(i,"getDateTime",function(){var e;var t=function(){try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){alert("AJAX not supported")}}}return e.open("HEAD",window.location.href.toString(),!1),e.setRequestHeader("Content-Type","text/html"),e.send(""),e.getResponseHeader("Date")}();return new Date(t)}),o(i,"save",function(){}),i)),cc._RF.pop()},{}],DailyReward:[function(e,t,a){"use strict";cc._RF.push(t,"c28bebTgsxLsrqY7MQQhugb","DailyReward"),cc.Class({extends:cc.Component,properties:{},start:function(){cc.find("Canvas");this.DBStorage=cc.find("DBStorage").getComponent("DBStorage"),this.forwardPlayer=this.node.getChildByName("ForwardPlayer");var e=this;cc.loader.loadRes("player/forward/normal/"+this.DBStorage.getItem("team",2),cc.SpriteFrame,function(t,a){e.forwardPlayer.getChildByName("player").getComponent(cc.Sprite).spriteFrame=a}),this.items=[1,2,3,4,5,6,0],this.boxItems=["Box1","Box2","Box3","Box4","Box5","Box6"];for(var t=100,a=0;a<7;a++){if(Math.floor(Math.random()*t)>=20){t-=30;var i=Math.floor(Math.random()*this.items.length),o=this.boxItems[Math.floor(Math.random()*this.boxItems.length)];this.node.getChildByName(o).getComponent("RewardBox").itemID=this.items[i],this.removeItem(this.items[i]),this.removeItemBox(o)}}},removeItem:function(e){for(var t=0;t<this.items.length;t++)this.items[t]===e&&this.items.splice(t,1)},removeItemBox:function(e){for(var t=0;t<this.boxItems.length;t++)this.boxItems[t]===e&&this.boxItems.splice(t,1)},openAll:function(e){for(var t=1;t<=6;t++)"Box"+t!=e&&this.node.getChildByName("Box"+t).getComponent("RewardBox").open(!1)},close:function(){this.scheduleOnce(function(){this.node.destroy()},5)}}),cc._RF.pop()},{}],DefensePlayer:[function(e,t,a){"use strict";cc._RF.push(t,"f558c17PSZMPJTtistmKHmr","DefensePlayer"),cc.Class({extends:cc.Component,properties:{},start:function(){this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.sprite=this.node.getComponent(cc.Sprite)},onBeginContact:function(e,t,a){if(a.name.startsWith("Ball")&&0==a.tag){this.unscheduleAllCallbacks();var i=this;cc.loader.loadRes("player/defence/hit/"+this.gameManager.gameDetail.awayID,cc.SpriteFrame,function(e,t){i.sprite.spriteFrame=t})}},onEndContact:function(e,t,a){a.name.startsWith("Ball")&&0==a.tag&&this.schedule(function(){this.normal()},.3,0)},normal:function(){self=this,cc.loader.loadRes("player/defence/normal/"+this.gameManager.gameDetail.awayID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t})}}),cc._RF.pop()},{}],DestroyByCount:[function(e,t,a){"use strict";cc._RF.push(t,"6e44eC9kcpJ76Mdhb1wcYrC","DestroyByCount");var i=cc.Class({name:"Item",properties:{iconSF:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{maxCount:{default:3,type:cc.Integer},useImage:!0,items:{default:[],type:i}},start:function(){if(this.count=this.maxCount,this.sprite=this.node.getComponent(cc.Sprite),this.useImage){var e=this.items[this.count-1];this.sprite.spriteFrame=e.iconSF}},onEndContact:function(e,t,a){if(a.name.startsWith("Ball")&&0==a.tag){if(a.getComponent("Ball").fireBall)return;if(this.count--,this.count>0&&this.useImage){var i=this.items[this.count-1];this.sprite.spriteFrame=i.iconSF}else this.schedule(function(){this.node.destroy()},.08,0)}}}),cc._RF.pop()},{}],EndMatch:[function(e,t,a){"use strict";cc._RF.push(t,"1df44zqdNVJNrgLsPuV4L6F","EndMatch");var i=e("./MatchData");cc.Class({extends:cc.Component,properties:{detail:"",gameDetail:"",playMatchPrefab:{default:null,type:cc.Prefab},btnBg:{default:[],type:cc.SpriteFrame},roleNode:[cc.Node],totalScore:cc.Label,resultLogo:cc.Sprite,resultLogoArr:[cc.SpriteFrame]},start:function(){this.DBStorage=cc.find("DBStorage").getComponent("DBStorage");var e=cc.find("Canvas/TeamManager");this.teamManager=e.getComponent("TeamManager"),this.canvas=cc.find("Canvas"),this.mainMenu=this.canvas.getComponent("MainMenu");var t=this;cc.loader.loadRes("player/forward/normal/"+this.detail.homeID,cc.SpriteFrame,function(e,a){t.roleNode[1].getComponent(cc.Sprite).spriteFrame=a}),cc.loader.loadRes("player/defence/normal/"+this.detail.homeID,cc.SpriteFrame,function(e,a){t.roleNode[0].getComponent(cc.Sprite).spriteFrame=a}),cc.loader.loadRes("player/playMaker/normal/"+this.detail.homeID,cc.SpriteFrame,function(e,a){t.roleNode[2].getComponent(cc.Sprite).spriteFrame=a}),this.detail.win?this.win():this.lose(),3==this.detail.cup&&30==this.detail.week&&this.node.getChildByName("Next Button").destroy(),this.DBStorage.load(this.DBStorage.data),this.setResultLogo()},setResultLogo:function(){this.detail.homeGoal==this.detail.awayGoal?this.resultLogo.spriteFrame=this.resultLogoArr[2]:this.detail.homeGoal>this.detail.awayGoal?this.resultLogo.spriteFrame=this.resultLogoArr[0]:this.resultLogo.spriteFrame=this.resultLogoArr[1]},win:function(){var e=this.DBStorage.getItem(this.detail.cup+"_week_"+this.detail.week+"_score",0);""==e&&(e=0);var t=cc.sys.localStorage.getItem("totalScore");t=null==t||""==t?0:parseInt(t);var a=100;if(a+=25*(this.detail.homeGoal-(this.detail.homeGoal-this.detail.awayGoal)),e<(a+=50*(this.detail.homeGoal-this.detail.awayGoal))){if(1==this.detail.cup&&15==this.detail.week||2==this.detail.cup&&30==this.detail.week||3==this.detail.cup&&30==this.detail.week)0==this.DBStorage.getItem("scoreofEndCup"+this.detail.cup,0)&&(a+=1e3,this.DBStorage.setItem("scoreofEndCup"+this.detail.cup,1));this.DBStorage.setItem(this.detail.cup+"_detail_week_"+this.detail.week,this.detail.homeGoal+" - "+this.detail.awayGoal),this.DBStorage.setItem(this.detail.cup+"_week_"+this.detail.week+"_score",a),this.DBStorage.save(),cc.log("currentScore:==========="+a),cc.log("lastScore:=============="+e),t+=parseInt(a)-parseInt(e),cc.sys.localStorage.setItem("totalScore",t),cc.log("totalScore:============="+t),this.sendScore(a)}this.totalScore.string=t},lose:function(){this.node.getChildByName("NextButton").getComponentInChildren(cc.Sprite).spriteFrame=this.btnBg[0];var e=cc.sys.localStorage.getItem("totalScore");e=null==e||""==e?0:parseInt(e),this.totalScore.string=e},enterNextlevel:function(){this.mainMenu.refreshTeamScore();var e=i.cup_type.rubicup[parseInt(this.detail.week)],t=cc.find("Canvas"),a=cc.instantiate(this.playMatchPrefab);t.addChild(a);var o=a.getComponent("PlayMatch");o.leagueName="",o.cup=this.detail.cup,o.gameDetail=e},next:function(){if(this.detail.win){return void this.enterNextlevel()}else{var e=this.gameDetail,t=this.DBStorage.data;cc.director.loadScene("Level"+this.detail.cup+"-"+this.detail.week,function(a,i){var o=cc.director.getScene(),n=o.getChildByName("Canvas").getChildByName("GameManager");o.getChildByName("DBStorage").getComponent("DBStorage").load(t),n.getComponent("GameManager").gameDetail=e})}},back:function(){this.mainMenu.refreshTeamScore(),this.node.destroy()},replaceNum:function(e){return e},createCORSRequest:function(e,t){var a=cc.loader.getXMLHttpRequest();return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a},sendScore:function(e){}}),cc._RF.pop()},{"./MatchData":"MatchData"}],FloatingBall:[function(e,t,a){"use strict";cc._RF.push(t,"acb84+c90NHUZqEuft4hTTG","FloatingBall"),cc.Class({extends:cc.Component,properties:{duration:{default:1.5,type:cc.Float}},start:function(){var e=cc.repeatForever(cc.sequence(cc.rotateTo(this.duration,180,180),cc.rotateTo(this.duration,360,360)));this.node.getChildByName("Star").runAction(e),this.node.name="FloatBall"},onCollisionExit:function(e,t){if(e.name.startsWith("Ball")&&0==e.tag){if(e.getComponent("Ball").inHand)return;var a=cc.find("Canvas/Environment/BallParent");this.changeParent(this.node,a),this.node.removeAllChildren(),this.node.name="Ball";var i=e.getComponent(cc.RigidBody).linearVelocity,o=new cc.Vec2(i.x/3,i.y/3);e.getComponent(cc.RigidBody).linearVelocity=o,this.node.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,this.node.removeComponent("FloatingBall")}},changeParent:function(e,t){if(e.parent!=t){var a=function(e){var t=e,a=t.angle;do{a+=(t=t.parent).angle}while(null!=t.parent);return a%=360},i=a(e)-a(t),o=e.convertToWorldSpaceAR(cc.v2(0,0)),n=t.convertToNodeSpaceAR(o);e.parent=t,e.position=n,e.angle=i}}}),cc._RF.pop()},{}],FooterItem:[function(e,t,a){"use strict";cc._RF.push(t,"8b64037qslOJo3Al5HK60gS","FooterItem"),cc.Class({extends:cc.Component,properties:{freezEventPrefab:{default:null,type:cc.Prefab},ExcessEventPrefab:{default:null,type:cc.Prefab},fireBallEventPrefab:{default:null,type:cc.Prefab},removeDefEventPrefab:{default:null,type:cc.Prefab}},start:function(){this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.DBStorage=cc.find("DBStorage").getComponent("DBStorage")},onItemClick:function(e,t){if(!this.gameManager.end){var a=this.DBStorage.getItem("removeDefender",1),i=this.DBStorage.getItem("fireBall",1),o=this.DBStorage.getItem("exteraBall",1),n=this.DBStorage.getItem("freezGoalKeeper",1);if(1==t&&a>0){a--,this.DBStorage.setItem("removeDefender",a),this.removeDefender();var s=cc.find("Canvas"),c=cc.instantiate(this.removeDefEventPrefab);s.addChild(c),c.getComponent(cc.Animation).on("finished",function(e){c.destroy()})}else if(2==t&&i>0){if(0==cc.find("Canvas/Environment/BallParent").children.length)return;i--,this.DBStorage.setItem("fireBall",i),this.fireBall();s=cc.find("Canvas"),c=cc.instantiate(this.fireBallEventPrefab);s.addChild(c),c.getComponent(cc.Animation).on("finished",function(e){c.destroy()})}else if(3==t&&o>0&&!this.gameManager.infinityBall){o--,this.DBStorage.setItem("exteraBall",o),this.exteraBall();s=cc.find("Canvas"),c=cc.instantiate(this.ExcessEventPrefab);s.addChild(c),c.getComponent(cc.Animation).on("finished",function(e){c.destroy()})}else if(4==t&&n>0){n--,this.DBStorage.setItem("freezGoalKeeper",n),this.freezGoalKeeper();s=cc.find("Canvas"),c=cc.instantiate(this.freezEventPrefab);s.addChild(c),c.getComponent(cc.Animation).on("finished",function(e){c.destroy()})}this.updateFooter(a,i,o,n)}},removeDefender:function(){for(var e=cc.find("Canvas/Environment").children,t=0;t<e.length;t++)"DefensePlayer"==e[t].name&&e[t].destroy();cc.find("Canvas/Environment/GoalKeeper").destroy()},fireBall:function(){for(var e=cc.find("Canvas/Environment/BallParent").children,t=0;t<e.length;t++){e[t].getComponent("Ball").setFire()}},exteraBall:function(){this.gameManager.ballCount+=3,this.gameManager.setLableCount()},freezGoalKeeper:function(){cc.find("Canvas/Environment/GoalKeeper").getComponent("GoalKeeper").freeze()},updateFooter:function(e,t,a,i){var o=cc.find("Canvas/footer");try{o.getChildByName("ShopItem1").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(e.toString())}catch(e){}try{o.getChildByName("ShopItem2").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(t.toString())}catch(e){}try{o.getChildByName("ShopItem3").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(a.toString())}catch(e){}try{o.getChildByName("ShopItem4").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(i.toString())}catch(e){}},replaceNum:function(e){return e.replace(/1/g,"\u06f1").replace(/2/g,"\u06f2").replace(/3/g,"\u06f3").replace(/4/g,"\u06f4").replace(/5/g,"\u06f5").replace(/6/g,"\u06f6").replace(/7/g,"\u06f7").replace(/8/g,"\u06f8").replace(/9/g,"\u06f9").replace(/0/g,"\u06f0")}}),cc._RF.pop()},{}],ForwardPlayer:[function(e,t,a){"use strict";cc._RF.push(t,"9ab4fNtSNVDxJUB8kOjZ9fR","ForwardPlayer"),cc.Class({extends:cc.Component,properties:{duration:{default:3,type:cc.Float},power:{default:3e3,type:cc.Float},startRotation:{default:75,type:cc.Float},endRotation:{default:-75,type:cc.Float},starter:!1},onLoad:function(){this.starter&&(this.node.name="ForwardPlayer-Starter")},start:function(){this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.node.angle=(this.startRotation+this.endRotation)/2,this.flag=!1,this.ball=!1,this.lock=this.starter,this.arrowNode=this.node.getChildByName("Arrow"),this.aimNode=this.node.getChildByName("Aim"),this.arrowNode.active=!1,this.aimNode.active=!1,this.sprite=this.node.getChildByName("player").getComponent(cc.Sprite),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,function(e){this.ball&&!this.lock&&(this.onShoot(),this.starter&&this.gameManager.shoot())},this),this.starter&&(this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"))},findPointOnCircle:function(e,t,a,i){var o=Math.cos(i*Math.PI/180)*a+e,n=Math.sin(i*Math.PI/180)*a+t;return new cc.Vec2(o,n)},update:function(e){this.ball&&(this.ballNode.position=this.findPointOnCircle(this.node.x,this.node.y,60,this.node.angle-90),this.ballNode.angle=this.node.angle)},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&0==e.tag&&!this.ball){var a=e.getComponent("Ball");if(a.inHand)return;this.ballNode=e.node,this.ballNode.stopActionByTag(2),a.inHand=!0;var i=e.getComponent(cc.RigidBody),o=new cc.Vec2(0,0);i.linearVelocity=o,i.type=cc.RigidBodyType.Static;var n=cc.rotateTo(this.duration,this.startRotation,0),s=cc.rotateTo(this.duration,this.endRotation,0);if(n.easing(cc.easeQuadraticActionInOut()),s.easing(cc.easeQuadraticActionInOut()),this.starter){var c=new cc.Vec2(0,500),r=cc.moveTo(.5,c.x,c.y);this.node.runAction(r),this.scheduleOnce(function(){this.lock=!1,this.arrowNode.active=!0;var e=cc.rotateTo(this.duration/2,this.startRotation,0);e.easing(cc.easeQuadraticActionInOut()),this.node.runAction(e),this.scheduleOnce(function(){var e=cc.repeatForever(cc.sequence(s,n));e.setTag(2),this.node.runAction(e)},this.duration/2)},.5)}else{var l=cc.rotateTo(this.duration/2,this.startRotation,0);l.easing(cc.easeQuadraticActionInOut()),this.node.runAction(l),this.scheduleOnce(function(){var e=cc.repeatForever(cc.sequence(s,n));e.setTag(2),this.node.runAction(e)},this.duration/2),this.arrowNode.active=!0}this.aimNode.active=!1,this.ball=!0}},onCollisionExit:function(e,t){e.name.startsWith("Ball")&&0==e.tag&&(e.getComponent("Ball").inHand=!1)},findNewPoint:function(e,t,a,i){var o=new cc.Vec2(0,0);o.x=Math.cos(a*Math.PI/180)*i+e,o.y=Math.sin(a*Math.PI/180)*i+t,this.ball.position=o},degreesToVectors:function(e){var t=cc.misc.degreesToRadians(e);return cc.v2(0,1).rotate(-t)},onShoot:function(){this.unscheduleAllCallbacks(),this.node.stopActionByTag(2);var e=cc.rotateTo(.3,0,0);this.node.runAction(e);var t=this.ballNode.getComponent(cc.RigidBody);t.type=cc.RigidBodyType.Dynamic;var a=this.degreesToVectors(-this.node.angle),i=new cc.Vec2(-a.x*this.power,-a.y*this.power);if(t.linearVelocity=i,this.arrowNode.active=!1,this.lock=this.starter,this.ball=!1,this.shoot(),this.starter){this.node.removeComponent(cc.CircleCollider);var o=new cc.Vec2(0,650),n=cc.moveTo(1,o.x,o.y);this.node.runAction(n),this.schedule(function(){this.node.angle=0,this.node.addComponent(cc.CircleCollider),this.node.getComponent(cc.CircleCollider).radius=48},1,0)}},normal:function(){self=this,cc.loader.loadRes("player/forward/normal/"+this.gameManager.gameDetail.homeID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t})},shoot:function(){self=this,cc.loader.loadRes("player/forward/shoot/"+this.gameManager.gameDetail.homeID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t}),this.schedule(function(){this.normal()},.1,0)}}),cc._RF.pop()},{}],GameManager:[function(e,t,a){"use strict";cc._RF.push(t,"b99c9DPtKhBqJtKqRKNZhur","GameManager"),cc.Class({extends:cc.Component,properties:{gameDetail:"",ballCount:5,awayGoal:0,homeGoal:0,forwardNormal:{default:null,type:cc.SpriteFrame},goalEventPrefab:{default:null,type:cc.Prefab},pausePrefab:{default:null,type:cc.Prefab},timeUpEventPrefab:{default:null,type:cc.Prefab},PenaltiPrefab:{default:null,type:cc.Prefab},JimyJumpPrefab:{default:null,type:cc.Prefab},infinityBall:!1,end:!1},start:function(){var e=cc.sys.localStorage.getItem("audio"),t=cc.find("Canvas/Background Audio").getComponent(cc.AudioSource);if(0==e?t.node.destroy():t.play(),self=this,this.ballCount=this.gameDetail.ballCount,this.timeLbl=cc.find("Canvas/TimeLable").getComponent(cc.Label),this.DBStorage=cc.find("DBStorage").getComponent("DBStorage"),this.awayGoal=this.gameDetail.awayGoal,this.homeGoal=this.gameDetail.homeGoal,this.ballParent=cc.find("Canvas/Environment/BallParent"),-1!=this.ballCount&&this.jimyJump(),null==this.gameDetail.time)return this.infinityBall=!0,void this.newBall(.1);if(0==this.gameDetail.time)this.timeLbl.destroy();else{this.timeLbl.string=this.gameDetail.time.toString(),this.second=this.gameDetail.time;var a=this.second-1;this.schedule(function(){if(this.second--,this.timeLbl.string=this.second.toString(),0==this.second){this.endMatch();var e=cc.find("Canvas"),t=cc.instantiate(this.timeUpEventPrefab);e.addChild(t)}},1,a,0)}cc.loader.loadRes("player/forward/normal/"+this.gameDetail.homeID,cc.SpriteFrame,function(e,t){for(var a=cc.find("Canvas/Environment"),i=0;i<a.children.length;i++){var o=a.children[i];if(o.name.startsWith("ForwardPlayer"))o.getChildByName("player").getComponent(cc.Sprite).spriteFrame=t}}),cc.loader.loadRes("player/defence/normal/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){for(var a=cc.find("Canvas/Environment"),i=0;i<a.children.length;i++){var o=a.children[i];if("DefensePlayer"==o.name)o.getComponent(cc.Sprite).spriteFrame=t}}),cc.loader.loadRes("player/playMaker/normal/"+this.gameDetail.homeID,cc.SpriteFrame,function(e,t){for(var a=cc.find("Canvas/Environment"),i=0;i<a.children.length;i++){var o=a.children[i];if("PlayMaker"==o.name)o.getChildByName("player").getComponent(cc.Sprite).spriteFrame=t}}),-1==this.ballCount&&(this.infinityBall=!0),this.setLableCount(),this.gameDetail.defCount=this.DBStorage.getItem("removeDefender",1),this.setFooter(),this.newBall(.1),this.setScoreboardGoal(),this.setScoreboardLogo()},jimyJump:function(){if(this.gameDetail.ballCount-this.gameDetail.awayGoal<=2){var e=Math.floor(11*Math.random());if(cc.log("rnd:"+e),e>=7){var t=11*Math.random()+10;cc.log("time: "+t),this.scheduleOnce(function(){var e=cc.find("Canvas/Environment"),t=cc.instantiate(this.JimyJumpPrefab);e.addChild(t)},t)}}},goal:function(){this.homeGoal++,this.newBall(2),this.setScoreboardGoal();var e=cc.find("Canvas");if(e.getChildByName("goalEvent"))e.getChildByName("goalEvent").getComponentInChildren(cc.Label).string=this.homeGoal.toString()+" - "+this.awayGoal.toString();else{var t=cc.instantiate(this.goalEventPrefab);e.addChild(t),t.getComponentInChildren(cc.Label).string=this.homeGoal.toString()+" - "+this.awayGoal.toString()}},out:function(){this.newBall(.2)},newBall:function(e){this.scheduleOnce(function(){for(var e=0;e<this.ballParent.children.length;e++){var t=this.ballParent.children[e];if(cc.log(t.name.startsWith("Ball")),t.name.startsWith("Ball"))return}this.ballCount>0||this.infinityBall?cc.find("Canvas/Environment/AddBall").getComponent("AddBall").initBall():this.endMatch()},e)},shoot:function(){this.infinityBall||(this.ballCount--,this.ballCount>=0&&this.setLableCount())},pause:function(){var e=cc.find("Canvas"),t=cc.instantiate(this.pausePrefab);e.addChild(t),cc.director.getPhysicsManager().enabled=!1},endMatch:function(){this.end=!0,this.unscheduleAllCallbacks();var e=cc.sys.localStorage.getItem("audio");cc.director.getPhysicsManager().enabled=!1,this.awayGoal!=this.homeGoal&&1==e&&this.node.getChildByName("EndMatch").getComponent(cc.AudioSource).play(),this.scheduleOnce(function(){var e=[];if(e.homeID=this.gameDetail.homeID,e.awayID=this.gameDetail.awayID,e.homeGoal=this.homeGoal,e.awayGoal=this.awayGoal,e.cup=this.getSceneName().substring(5,6),e.week=this.getSceneName().substring(7),this.awayGoal==this.homeGoal)this.draw();else{this.awayGoal<this.homeGoal?e.win=!0:e.win=!1;var t=this.DBStorage.data,a=this.gameDetail;cc.director.loadScene("StartMenu",function(i,o){var n=cc.director.getScene(),s=n.getChildByName("Canvas");n.getChildByName("DBStorage").getComponent("DBStorage").load(t),s.getComponent("MainMenu").openEndMatch(e,a)})}},2)},win:function(){},lose:function(){},draw:function(){cc.find("Canvas/footer").destroy(),cc.find("Canvas/Environment").destroy();var e=cc.find("Canvas"),t=cc.instantiate(this.PenaltiPrefab);e.addChild(t);var a=t.getComponent("Penalti");a.homeID=this.gameDetail.homeID,a.awayID=this.gameDetail.awayID},penaltiResualt:function(e){var t=2.6;if(1==cc.sys.localStorage.getItem("audio")&&this.node.getChildByName("EndMatch").getComponent(cc.AudioSource).play(),e){this.homeGoal++;var a=cc.find("Canvas"),i=cc.instantiate(this.goalEventPrefab);a.addChild(i),i.getComponentInChildren(cc.Label).string=this.homeGoal.toString()+" - "+this.awayGoal.toString()}else t=1.7;this.scheduleOnce(function(){cc.director.getPhysicsManager().enabled=!1;var t=[];t.homeID=this.gameDetail.homeID,t.awayID=this.gameDetail.awayID,t.homeGoal=this.homeGoal,t.awayGoal=this.awayGoal,t.cup=this.getSceneName().substring(5,6),t.week=this.getSceneName().substring(7),t.win=e;var a=this.DBStorage.data,i=this.gameDetail;cc.director.loadScene("StartMenu",function(e,o){var n=cc.director.getScene(),s=n.getChildByName("Canvas");n.getChildByName("DBStorage").getComponent("DBStorage").load(a),s.getComponent("MainMenu").openEndMatch(t,i)})},t)},setScoreboardGoal:function(){cc.find("Canvas/Scoreboard/GoalLable").getComponent(cc.Label).string=this.homeGoal.toString()+" - "+this.awayGoal.toString()},getSceneName:function(){for(var e,t=cc.game._sceneInfos,a=0;a<t.length;a++)t[a].uuid==cc.director._scene._id&&(e=(e=t[a].url).substring(e.lastIndexOf("/")+1).match(/[^\.]+/)[0]);return e},setScoreboardLogo:function(){var e=cc.find("Canvas/Scoreboard/HomeLogo/Mask/Logo").getComponent(cc.Sprite);cc.loader.loadRes("logo/"+this.gameDetail.homeID,cc.SpriteFrame,function(t,a){e.spriteFrame=a});var t=cc.find("Canvas/Scoreboard/AwayLogo/Mask/Logo").getComponent(cc.Sprite);cc.loader.loadRes("logo/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,a){t.spriteFrame=a})},setLableCount:function(){var e=cc.find("Canvas/balls").getComponentInChildren(cc.Label);-1==this.ballCount?e.string="\u221e":e.string=this.ballCount.toString()},setFooter:function(e,t,a,i){var o=cc.find("Canvas/footer");o.getChildByName("ShopItem1").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(this.gameDetail.defCount.toString()),o.getChildByName("ShopItem2").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(this.gameDetail.fireCount.toString()),o.getChildByName("ShopItem3").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(this.gameDetail.exteraBall.toString()),o.getChildByName("ShopItem4").getChildByName("count").getComponent(cc.Label).string=this.replaceNum(this.gameDetail.freezGoalKeeper.toString())},replaceNum:function(e){return e}}),cc._RF.pop()},{}],GoalEvent:[function(e,t,a){"use strict";cc._RF.push(t,"a67e6qOB81PYZi6R8CYoxOl","GoalEvent"),cc.Class({extends:cc.Component,properties:{clips:{type:cc.AudioClip,default:[],serializable:!0}},onLoad:function(){var e=cc.sys.localStorage.getItem("audio"),t=Math.floor(Math.random()*this.clips.length),a=this.node.getComponent(cc.AudioSource);a.clip=this.clips[t],1==e&&a.play();var i=this;this.node.getComponent(cc.Animation).on("finished",function(e){i.node.destroy()}),this.scheduleOnce(function(){},a.getDuration())}}),cc._RF.pop()},{}],GoalKeeper:[function(e,t,a){"use strict";cc._RF.push(t,"6bb46uzT7tJKaStMripJqkY","GoalKeeper"),cc.Class({extends:cc.Component,properties:{isFreeze:!1},start:function(){this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.sprite=this.node.getComponent(cc.Sprite),this.move=this.node.getComponent("MoveNodeWithRandomSpeed"),this.save()},normal:function(){this.unscheduleAllCallbacks(),self=this,cc.loader.loadRes("player/goalkeeper/normal/"+this.gameManager.gameDetail.awayID,cc.SpriteFrame,function(e,t){try{self.sprite.spriteFrame=t}catch(e){}}),this.isFreeze=!1,this.move.enabled=!0},freeze:function(){this.unscheduleAllCallbacks(),self=this,cc.loader.loadRes("player/goalkeeper/freeze/"+this.gameManager.gameDetail.awayID,cc.SpriteFrame,function(e,t){try{self.sprite.spriteFrame=t}catch(e){}}),this.isFreeze=!0,this.stop()},save:function(){this.isFreeze||(this.unscheduleAllCallbacks(),self=this,cc.log(this.gameManager.gameDetail.awayID),cc.loader.loadRes("player/goalkeeper/save/"+this.gameManager.gameDetail.awayID,cc.SpriteFrame,function(e,t){try{self.sprite.spriteFrame=t}catch(e){}}),this.schedule(function(){this.normal()},.2,0))},sad:function(){this.unscheduleAllCallbacks(),self=this,cc.loader.loadRes("player/goalkeeper/sad/"+this.gameManager.gameDetail.awayID,cc.SpriteFrame,function(e,t){try{self.sprite.spriteFrame=t}catch(e){}}),this.stop(),this.schedule(function(){this.normal()},2.7,0)},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&1==e.tag){if(this.isFreeze)return;this.save()}},stop:function(){this.node.stopActionByTag(1),this.move.elapsedTime+=10,this.move.right=!this.move.right,this.move.enabled=!1}}),cc._RF.pop()},{}],Goal:[function(e,t,a){"use strict";cc._RF.push(t,"82c4fwCYuNCHKtd/34wk3bT","Goal"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=cc.find("Canvas/GameManager");this.gameManager=e.getComponent("GameManager"),this.goalKeeper=cc.find("Canvas/Environment/GoalKeeper").getComponent("GoalKeeper")},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&1==e.tag){var a=e.getComponent(cc.PhysicsCircleCollider);this.ballRestitution=a.restitution,a.restitution=0,a.apply(),this.gameManager.goal(),e.name="Goal",this.schedule(function(){e.node.destroy()},1,0);try{this.goalKeeper.sad()}catch(e){}}}}),cc._RF.pop()},{}],HintAnimation:[function(e,t,a){"use strict";cc._RF.push(t,"addf5Npy3hD9K55kKa0KV1W","HintAnimation"),cc.Class({extends:cc.Component,start:function(){this.startScale=this.node.scale},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")||0==e.tag){var a=cc.sequence(cc.scaleTo(.07,this.startScale+.1,this.startScale+.1),cc.scaleTo(.07,this.startScale,this.startScale));this.node.runAction(a)}}}),cc._RF.pop()},{}],JimmyJump:[function(e,t,a){"use strict";cc._RF.push(t,"9de8akVfyxAEYW/f0GT2mzN","JimmyJump"),cc.Class({extends:cc.Component,properties:{},start:function(){this.anim=this.node.getComponent(sp.Skeleton),this.anim.animation="animation",this.scheduleOnce(function(){this.node.destroy()},11),this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.dead=!1},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&0==e.tag&&!this.dead){if(e.getComponent("Ball").inHand)return;this.anim.setAnimation(0,"fall",!1),this.timeScale=2,this.node.getComponent("MoveNode").enabled=!1,this.node.stopActionByTag(1),this.scheduleOnce(function(){this.node.destroy()},1.2),this.gameManager.ballCount+=3,this.gameManager.setLableCount(),this.dead=!0}}}),cc._RF.pop()},{}],Leaderboard:[function(e,t,a){"use strict";cc._RF.push(t,"7bcf5N9JJNBuLqtKCF698Kc","Leaderboard"),cc.Class({extends:cc.Component,properties:{itemPrefab:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node}},start:function(){this.DBStorage=cc.find("DBStorage").getComponent("DBStorage");for(var e=this.DBStorage.getDateTime(),t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=this.addDays(e,0),i=0;i<=7&&"Friday"!=t[a.getDay()];i++)a=this.addDays(a,1);a.setHours(24,0,0,0)},addDays:function(e,t){var a=new Date(e);return a.setDate(a.getDate()+t),a},addItem:function(e){var t=cc.instantiate(this.itemPrefab);this.content.addChild(t),t.getChildByName("numberLable").getComponent(cc.Label).string=this.replaceNum(e.rank),t.getChildByName("nameLable").getComponent(cc.Label).string="1"==e.me?"    \u0634\u0645\u0627":"    "+e.name+"    ",t.getChildByName("coinLable").getComponent(cc.Label).string=this.replaceNum(e.total)},getTimeRemaining:function(e){var t=Date.parse(e)-Date.parse(new Date),a=Math.floor(t/1e3%60),i=Math.floor(t/1e3/60%60),o=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:o,minutes:i,seconds:a}},clearList:function(){this.content.removeAllChildren()},replaceNum:function(e){return e.replace(/1/g,"\u06f1").replace(/2/g,"\u06f2").replace(/3/g,"\u06f3").replace(/4/g,"\u06f4").replace(/5/g,"\u06f5").replace(/6/g,"\u06f6").replace(/7/g,"\u06f7").replace(/8/g,"\u06f8").replace(/9/g,"\u06f9").replace(/0/g,"\u06f0")},close:function(){this.node.destroy()},convertToHHMMSS:function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(0==t?"":this.DoubleDigitFormat(t)+":")+(this.DoubleDigitFormat(a)+":")+this.DoubleDigitFormat(i)},DoubleDigitFormat:function(e){return e<10?"0"+e:e.toString()},offBtn:function(){var e=this.dayBtn.getComponent(cc.Sprite);e.spriteFrame=this.iconVolumeOff,(e=this.weekBtn.getComponent(cc.Sprite)).spriteFrame=this.iconVolumeOff,(e=this.allBtn.getComponent(cc.Sprite)).spriteFrame=this.iconVolumeOff},dayClick:function(){this.offBtn(),this.dayBtn.getComponent(cc.Sprite).spriteFrame=this.iconVolumeOn,this.loadingBall.active=!0,this.clearList(),this.getLeaderBoard("daily")},weekClick:function(){this.offBtn(),this.weekBtn.getComponent(cc.Sprite).spriteFrame=this.iconVolumeOn,this.loadingBall.active=!0,this.clearList(),this.getLeaderBoard("weekly")},allClick:function(){this.offBtn(),this.allBtn.getComponent(cc.Sprite).spriteFrame=this.iconVolumeOn,this.loadingBall.active=!0,this.clearList(),this.getLeaderBoard("total")},createCORSRequest:function(e,t){var a=cc.loader.getXMLHttpRequest();return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a},getLeaderBoard:function(e){var t=window.location.href+"getLeaderBoard.php",a=this.createCORSRequest("POST",t);a||cc.log("CORS not supported");var i=cc.sys.localStorage.getItem("userID");a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var o="user="+i+"&type="+e;try{a.send(o)}catch(e){cc.log(e)}a.onreadystatechange=this.xhrGetCallback},xhrGetCallback:function(e){var t=cc.director.getScene().getChildByName("Canvas").getChildByName("LeaderBoard").getComponent("Leaderboard");if(void 0!==e&&4===e.currentTarget.readyState&&e.currentTarget.status>=200&&e.currentTarget.status<300){cc.log(this.responseText),t.loadingBall.active=!1,t.clearList();for(var a=JSON.parse(this.responseText),i=0;i<a.length;i++){if(0!=i){var o=new cc.Node("Space");o.height=100,t.content.addChild(o)}for(var n=0;n<a[i].length;n++)t.addItem(a[i][n])}}}}),cc._RF.pop()},{}],Loading:[function(e,t,a){"use strict";cc._RF.push(t,"f3c2f1wy1JPm6tH0Oms50sM","Loading"),cc.Class({extends:cc.Component,properties:{hintLbl:{default:null,type:cc.Label},hinttext:{default:[],type:cc.String}},close:function(){this.onDestroy.destroy()},start:function(){this.hinttext.push("\u4f60\u5f97\u5230\u7684\u6bcf\u4e00\u6735\u82b1\u90fd\u4f1a\u7ed9\u4f60\u66f4\u591a"),this.hinttext.push("\u5982\u679c\u97f3\u4e50\u6253\u6270\u4f60\uff0c\u4f60\u53ef\u4ee5\u628a\u5b83\u5173\u95ed"),this.hinttext.push("\u706b\u7403\u5c06\u6e05\u9664\u6240\u6709\u969c\u788d\u7269"),this.hinttext.push("\u6700\u597d\u4f60\u4e0d\u8981\u5728\u6bd4\u8d5b\u4e2d\u9014\u628a\u7403\u5207\u4e0b\u6765\uff0c\u5728\u6bd4\u8d5b\u524d\u518d\u4e70\u4e09\u4e2a\u7403"),this.hinttext.push("\u5982\u679c\u4f60\u80fd\u8ba9\u6770\u7c73\u8df3\uff0c\u4f60\u4f1a\u5f97\u5230\u4e09\u4e2a\u989d\u5916\u7684\u7403"),this.hinttext.push("\u5728\u67d0\u4e2a\u65f6\u523b\uff0c\u4ed6\u53ef\u4ee5\u8bbe\u5b9a\u80dc\u5229\u8005\u7684\u961f\u4f0d\uff0c\u6240\u4ee5\u770b\u7740\u4ed6");var e=Math.floor(Math.random()*this.hinttext.length);this.hintLbl.string=this.hinttext[e]}}),cc._RF.pop()},{}],MainMenu:[function(e,t,a){"use strict";cc._RF.push(t,"1336arlQB9A9YwtdOoWjEdb","MainMenu"),cc.Class({extends:cc.Component,properties:{selectTeamPrefab:{default:null,type:cc.Prefab},leaderboardPrefab:{default:null,type:cc.Prefab},endMatchPrefab:{default:null,type:cc.Prefab},selectMatchPrefab:{default:null,type:cc.Prefab},dailyRewardPrefab:{default:null,type:cc.Prefab},teamRole:{default:[],type:cc.Sprite},teamScore:cc.Label},start:function(){var e=cc.find("Canvas/TeamManager");this.teamManager=e.getComponent("TeamManager"),this.DBStorage=cc.find("DBStorage").getComponent("DBStorage"),this.canvas=cc.find("Canvas"),this.logo=cc.find("Canvas/Logo"),this.matchList=cc.find("Canvas/shelf_2/cup_rubicup"),this.rankNode=cc.find("Canvas/shelf_2/leaderboardBtn"),this.TeamNode=cc.find("Canvas/shelf_2/Player"),this.soundTog=cc.find("Canvas/sound");this.DBStorage.callBackNode=this.node,-1!=this.DBStorage.getItem("team",-1)&&(this.setPlayer(this.DBStorage.getItem("team")),this.dailyCheck()),-1!=this.DBStorage.getItem("team",-1)&&this.setPlayer(this.DBStorage.getItem("team")),this.refreshTeamScore()},refreshTeamScore:function(){var e=cc.sys.localStorage.getItem("totalScore");e=null==e||""==e?0:parseInt(e),this.teamScore.string=e},setPlayer:function(e){var t=this;cc.loader.loadRes("player/defence/normal/"+e,cc.SpriteFrame,function(e,a){t.teamRole[0].spriteFrame=a}),cc.loader.loadRes("player/forward/normal/"+e,cc.SpriteFrame,function(e,a){t.teamRole[1].spriteFrame=a}),cc.loader.loadRes("player/playMaker/normal/"+e,cc.SpriteFrame,function(e,a){t.teamRole[2].spriteFrame=a})},dailyCheck:function(){var e=this.DBStorage.getDateTime();if("-1"==this.DBStorage.getItem("lastRewardTime","-1"))return this.DBStorage.setItem("lastRewardTime",e),void this.DBStorage.save();var t=(e-new Date(this.DBStorage.getItem("lastRewardTime")))/1e3;if(Math.floor(t/3600)>=24){var a=cc.instantiate(this.dailyRewardPrefab);this.canvas.addChild(a),this.DBStorage.setItem("lastRewardTime",e),this.DBStorage.save()}},teamSelectClick:function(){this.showTeampageAction();var e=cc.instantiate(this.selectTeamPrefab);this.canvas.addChild(e)},showTeampageAction:function(){this.soundTog.active=!1;var e=cc.fadeOut(.5);this.TeamNode.runAction(e);var t=cc.moveTo(.5,cc.v2(this.logo.x,700));this.logo.runAction(t);var a=cc.moveTo(.5,cc.v2(this.matchList.x,-850));this.matchList.runAction(a);var i=cc.moveTo(.5,cc.v2(500,this.rankNode.y));this.rankNode.runAction(i)},hideTeampageAction:function(){this.soundTog.active=!0;var e=cc.fadeIn(.5);this.TeamNode.runAction(e);var t=cc.moveTo(.5,cc.v2(this.logo.x,480));this.logo.runAction(t);var a=cc.moveTo(.5,cc.v2(this.matchList.x,-255));this.matchList.runAction(a);var i=cc.moveTo(.5,cc.v2(251,this.rankNode.y));this.rankNode.runAction(i)},rubikupClick:function(){this.showMatchListAction();var e=cc.instantiate(this.selectMatchPrefab);this.canvas.addChild(e),e.getComponent("MatchList").cup=1},showMatchListAction:function(){this.soundTog.active=!1,this.logo.active=!1;var e=cc.moveTo(.2,cc.v2(this.TeamNode.x-200,this.TeamNode.y)),t=cc.fadeOut(.2);this.TeamNode.runAction(cc.sequence(e,t)),this.rankNode.active=!1,this.matchList.active=!1},hideMatchListAction:function(){this.soundTog.active=!0,this.logo.active=!0,this.TeamNode.setPosition(cc.v2(-500,this.TeamNode.y));var e=cc.moveTo(.4,cc.v2(0,this.TeamNode.y));this.TeamNode.runAction(cc.sequence(cc.fadeIn(.1),e)),this.rankNode.setPosition(cc.v2(400,this.rankNode.y));var t=cc.moveTo(.5,cc.v2(251,this.rankNode.y));this.rankNode.runAction(t),this.matchList.active=!0},leaderboardClick:function(){var e=cc.instantiate(this.leaderboardPrefab);this.canvas.addChild(e)},openEndMatch:function(e,t){this.canvas=cc.find("Canvas");var a=cc.instantiate(this.endMatchPrefab);this.canvas.addChild(a),a.getComponent("EndMatch").detail=e,a.getComponent("EndMatch").gameDetail=t}}),cc._RF.pop()},{}],MatchData:[function(e,t,a){"use strict";cc._RF.push(t,"cddd1Ug16lGp53WuPRBnuZE","MatchData");var i={cup_type:{rubicup:[]}};t.exports=i,cc._RF.pop()},{}],MatchList:[function(e,t,a){"use strict";cc._RF.push(t,"6bb6d+Fj3ZMmbUBsf+2zFrv","MatchList");var i=e("./MatchData");cc.Class({extends:cc.Component,properties:{matchPrefab:{default:null,type:cc.Prefab},playMatchPrefab:{default:null,type:cc.Prefab},cupSprites:{default:[],type:cc.SpriteFrame},matchItems:{default:[],type:cc.Node},cup:1},start:function(){var e=this;this.DBStorage=cc.find("DBStorage").getComponent("DBStorage"),this.rubicup=[],this.rubicup.push({id:1,ballCount:3,homeGoal:0,awayGoal:1,awayID:2,time:0}),this.rubicup.push({id:2,ballCount:5,homeGoal:0,awayGoal:2,awayID:3,time:0}),this.rubicup.push({id:3,ballCount:6,homeGoal:0,awayGoal:3,awayID:6,time:0}),this.rubicup.push({id:4,ballCount:8,homeGoal:0,awayGoal:3,awayID:8,time:0}),this.rubicup.push({id:5,ballCount:5,homeGoal:0,awayGoal:2,awayID:7,time:0}),this.rubicup.push({id:6,ballCount:8,homeGoal:0,awayGoal:2,awayID:9,time:0}),this.rubicup.push({id:7,ballCount:-1,homeGoal:0,awayGoal:1,awayID:0,time:55}),this.rubicup.push({id:8,ballCount:4,homeGoal:0,awayGoal:4,awayID:10,time:0}),this.rubicup.push({id:9,ballCount:9,homeGoal:0,awayGoal:3,awayID:11,time:0}),this.rubicup.push({id:10,ballCount:5,homeGoal:0,awayGoal:3,awayID:12,time:0}),this.rubicup.push({id:11,ballCount:7,homeGoal:0,awayGoal:3,awayID:4,time:0}),this.rubicup.push({id:12,ballCount:7,homeGoal:0,awayGoal:3,awayID:13,time:0}),this.rubicup.push({id:13,ballCount:10,homeGoal:0,awayGoal:3,awayID:1,time:50}),this.rubicup.push({id:14,ballCount:5,homeGoal:0,awayGoal:2,awayID:5,time:0}),this.rubicup.push({id:15,ballCount:6,homeGoal:0,awayGoal:2,awayID:15,time:0}),this.rubicup.push({id:16,ballCount:10,homeGoal:0,awayGoal:3,awayID:6,time:50}),this.rubicup.push({id:17,ballCount:6,homeGoal:0,awayGoal:4,awayID:8,time:0}),this.rubicup.push({id:18,ballCount:5,homeGoal:0,awayGoal:3,awayID:9,time:0}),this.rubicup.push({id:19,ballCount:6,homeGoal:0,awayGoal:3,awayID:2,time:0}),this.rubicup.push({id:20,ballCount:3,homeGoal:0,awayGoal:4,awayID:15,time:0}),this.rubicup.push({id:21,ballCount:6,homeGoal:0,awayGoal:4,awayID:0,time:55}),this.rubicup.push({id:22,ballCount:4,homeGoal:0,awayGoal:3,awayID:3,time:0}),this.rubicup.push({id:23,ballCount:5,homeGoal:0,awayGoal:4,awayID:4,time:0}),this.rubicup.push({id:24,ballCount:5,homeGoal:0,awayGoal:3,awayID:12,time:0}),this.rubicup.push({id:25,ballCount:9,homeGoal:0,awayGoal:4,awayID:10,time:50}),this.rubicup.push({id:26,ballCount:10,homeGoal:0,awayGoal:3,awayID:13,time:0}),this.rubicup.push({id:27,ballCount:7,homeGoal:0,awayGoal:1,awayID:1,time:55}),this.rubicup.push({id:28,ballCount:4,homeGoal:0,awayGoal:5,awayID:11,time:0}),this.rubicup.push({id:29,ballCount:10,homeGoal:0,awayGoal:4,awayID:5,time:0}),this.rubicup.push({id:30,ballCount:9,homeGoal:0,awayGoal:3,awayID:7,time:0}),this.rubicup.push({id:31,ballCount:11,homeGoal:0,awayGoal:4,awayID:6,time:30}),this.rubicup.push({id:32,ballCount:4,homeGoal:0,awayGoal:5,awayID:8,time:0}),this.rubicup.push({id:33,ballCount:8,homeGoal:0,awayGoal:3,awayID:9,time:0}),this.rubicup.push({id:34,ballCount:11,homeGoal:0,awayGoal:2,awayID:2,time:0}),this.rubicup.push({id:35,ballCount:8,homeGoal:0,awayGoal:4,awayID:15,time:0}),this.rubicup.push({id:36,ballCount:11,homeGoal:0,awayGoal:4,awayID:0,time:0}),this.rubicup.push({id:37,ballCount:11,homeGoal:0,awayGoal:7,awayID:3,time:0}),this.rubicup.push({id:38,ballCount:3,homeGoal:0,awayGoal:7,awayID:4,time:0}),this.rubicup.push({id:39,ballCount:6,homeGoal:0,awayGoal:5,awayID:12,time:0}),this.rubicup.push({id:40,ballCount:1,homeGoal:0,awayGoal:10,awayID:10,time:0}),this.rubicup.push({id:41,ballCount:5,homeGoal:0,awayGoal:2,awayID:13,time:45}),this.rubicup.push({id:42,ballCount:9,homeGoal:0,awayGoal:5,awayID:1,time:0}),this.rubicup.push({id:43,ballCount:9,homeGoal:0,awayGoal:4,awayID:11,time:0}),this.rubicup.push({id:44,ballCount:11,homeGoal:0,awayGoal:5,awayID:5,time:0}),this.rubicup.push({id:45,ballCount:10,homeGoal:0,awayGoal:5,awayID:7,time:70}),this.rubicup.push({id:46,ballCount:5,homeGoal:0,awayGoal:4,awayID:4,time:0}),this.rubicup.push({id:47,ballCount:10,homeGoal:0,awayGoal:4,awayID:4,time:0}),this.rubicup.push({id:48,ballCount:12,homeGoal:0,awayGoal:5,awayID:8,time:0}),this.rubicup.push({id:49,ballCount:8,homeGoal:0,awayGoal:3,awayID:8,time:0}),this.rubicup.push({id:50,ballCount:8,homeGoal:0,awayGoal:4,awayID:2,time:0}),this.rubicup.push({id:51,ballCount:11,homeGoal:0,awayGoal:5,awayID:2,time:55}),this.rubicup.push({id:52,ballCount:10,homeGoal:0,awayGoal:4,awayID:3,time:0}),this.rubicup.push({id:53,ballCount:6,homeGoal:0,awayGoal:3,awayID:3,time:0}),this.rubicup.push({id:54,ballCount:11,homeGoal:0,awayGoal:5,awayID:13,time:0}),this.rubicup.push({id:55,ballCount:10,homeGoal:0,awayGoal:3,awayID:13,time:0}),this.rubicup.push({id:56,ballCount:11,homeGoal:0,awayGoal:4,awayID:0,time:0}),this.rubicup.push({id:57,ballCount:7,homeGoal:0,awayGoal:4,awayID:0,time:0}),this.rubicup.push({id:58,ballCount:10,homeGoal:0,awayGoal:4,awayID:11,time:0}),this.rubicup.push({id:59,ballCount:10,homeGoal:0,awayGoal:5,awayID:11,time:0}),this.rubicup.push({id:60,ballCount:5,homeGoal:0,awayGoal:1,awayID:6,time:0}),this.rubicup.push({id:61,ballCount:7,homeGoal:0,awayGoal:3,awayID:6,time:0}),this.rubicup.push({id:62,ballCount:10,homeGoal:0,awayGoal:3,awayID:7,time:0}),this.rubicup.push({id:63,ballCount:8,homeGoal:0,awayGoal:4,awayID:7,time:0}),this.rubicup.push({id:64,ballCount:10,homeGoal:0,awayGoal:3,awayID:15,time:0}),this.rubicup.push({id:65,ballCount:11,homeGoal:0,awayGoal:4,awayID:15,time:0}),this.rubicup.push({id:66,ballCount:4,homeGoal:0,awayGoal:5,awayID:5,time:0}),this.rubicup.push({id:67,ballCount:6,homeGoal:0,awayGoal:7,awayID:5,time:0}),this.rubicup.push({id:68,ballCount:10,homeGoal:0,awayGoal:4,awayID:9,time:0}),this.rubicup.push({id:69,ballCount:8,homeGoal:0,awayGoal:3,awayID:9,time:0}),this.rubicup.push({id:70,ballCount:5,homeGoal:0,awayGoal:5,awayID:1,time:0}),this.rubicup.push({id:71,ballCount:9,homeGoal:0,awayGoal:4,awayID:1,time:0}),this.rubicup.push({id:72,ballCount:11,homeGoal:0,awayGoal:7,awayID:12,time:0}),this.rubicup.push({id:73,ballCount:7,homeGoal:0,awayGoal:3,awayID:12,time:55}),this.rubicup.push({id:74,ballCount:11,homeGoal:0,awayGoal:7,awayID:10,time:0}),this.rubicup.push({id:75,ballCount:10,homeGoal:0,awayGoal:2,awayID:10,time:0}),i.cup_type.rubicup=this.rubicup,this.league=[],this.league.push({id:1,ballCount:10,homeGoal:0,awayGoal:3,awayID:6,time:50}),this.league.push({id:2,ballCount:6,homeGoal:0,awayGoal:4,awayID:8,time:0}),this.league.push({id:3,ballCount:5,homeGoal:0,awayGoal:3,awayID:9,time:0}),this.league.push({id:4,ballCount:6,homeGoal:0,awayGoal:3,awayID:2,time:0}),this.league.push({id:5,ballCount:3,homeGoal:0,awayGoal:4,awayID:15,time:0}),this.league.push({id:6,ballCount:6,homeGoal:0,awayGoal:4,awayID:0,time:55}),this.league.push({id:7,ballCount:4,homeGoal:0,awayGoal:3,awayID:3,time:0}),this.league.push({id:8,ballCount:5,homeGoal:0,awayGoal:4,awayID:4,time:0}),this.league.push({id:9,ballCount:5,homeGoal:0,awayGoal:3,awayID:12,time:0}),this.league.push({id:10,ballCount:9,homeGoal:0,awayGoal:4,awayID:10,time:50}),this.league.push({id:11,ballCount:10,homeGoal:0,awayGoal:3,awayID:13,time:0}),this.league.push({id:12,ballCount:7,homeGoal:0,awayGoal:1,awayID:1,time:55}),this.league.push({id:13,ballCount:4,homeGoal:0,awayGoal:5,awayID:11,time:0}),this.league.push({id:14,ballCount:10,homeGoal:0,awayGoal:4,awayID:5,time:0}),this.league.push({id:15,ballCount:9,homeGoal:0,awayGoal:3,awayID:7,time:0}),this.league.push({id:16,ballCount:11,homeGoal:0,awayGoal:4,awayID:6,time:30}),this.league.push({id:17,ballCount:4,homeGoal:0,awayGoal:5,awayID:8,time:0}),this.league.push({id:18,ballCount:8,homeGoal:0,awayGoal:3,awayID:9,time:0}),this.league.push({id:19,ballCount:11,homeGoal:0,awayGoal:2,awayID:2,time:0}),this.league.push({id:20,ballCount:8,homeGoal:0,awayGoal:4,awayID:15,time:0}),this.league.push({id:21,ballCount:11,homeGoal:0,awayGoal:4,awayID:0,time:0}),this.league.push({id:22,ballCount:11,homeGoal:0,awayGoal:7,awayID:3,time:0}),this.league.push({id:23,ballCount:3,homeGoal:0,awayGoal:7,awayID:4,time:0}),this.league.push({id:24,ballCount:6,homeGoal:0,awayGoal:5,awayID:12,time:0}),this.league.push({id:25,ballCount:1,homeGoal:0,awayGoal:10,awayID:10,time:0}),this.league.push({id:26,ballCount:5,homeGoal:0,awayGoal:2,awayID:13,time:45}),this.league.push({id:27,ballCount:9,homeGoal:0,awayGoal:5,awayID:1,time:0}),this.league.push({id:28,ballCount:9,homeGoal:0,awayGoal:4,awayID:11,time:0}),this.league.push({id:29,ballCount:11,homeGoal:0,awayGoal:5,awayID:5,time:0}),this.league.push({id:30,ballCount:10,homeGoal:0,awayGoal:5,awayID:7,time:70}),this.hazfi=[],this.hazfi.push({id:1,ballCount:5,homeGoal:0,awayGoal:4,awayID:4,time:0}),this.hazfi.push({id:2,ballCount:10,homeGoal:0,awayGoal:4,awayID:4,time:0}),this.hazfi.push({id:3,ballCount:12,homeGoal:0,awayGoal:5,awayID:8,time:0}),this.hazfi.push({id:4,ballCount:8,homeGoal:0,awayGoal:3,awayID:8,time:0}),this.hazfi.push({id:5,ballCount:8,homeGoal:0,awayGoal:4,awayID:2,time:0}),this.hazfi.push({id:6,ballCount:11,homeGoal:0,awayGoal:5,awayID:2,time:55}),this.hazfi.push({id:7,ballCount:10,homeGoal:0,awayGoal:4,awayID:3,time:0}),this.hazfi.push({id:8,ballCount:6,homeGoal:0,awayGoal:3,awayID:3,time:0}),this.hazfi.push({id:9,ballCount:11,homeGoal:0,awayGoal:5,awayID:13,time:0}),this.hazfi.push({id:10,ballCount:10,homeGoal:0,awayGoal:3,awayID:13,time:0}),this.hazfi.push({id:11,ballCount:11,homeGoal:0,awayGoal:4,awayID:0,time:0}),this.hazfi.push({id:12,ballCount:7,homeGoal:0,awayGoal:4,awayID:0,time:0}),this.hazfi.push({id:13,ballCount:10,homeGoal:0,awayGoal:4,awayID:11,time:0}),this.hazfi.push({id:14,ballCount:10,homeGoal:0,awayGoal:5,awayID:11,time:0}),this.hazfi.push({id:15,ballCount:5,homeGoal:0,awayGoal:1,awayID:6,time:0}),this.hazfi.push({id:16,ballCount:7,homeGoal:0,awayGoal:3,awayID:6,time:0}),this.hazfi.push({id:17,ballCount:10,homeGoal:0,awayGoal:3,awayID:7,time:0}),this.hazfi.push({id:18,ballCount:8,homeGoal:0,awayGoal:4,awayID:7,time:0}),this.hazfi.push({id:19,ballCount:10,homeGoal:0,awayGoal:3,awayID:15,time:0}),this.hazfi.push({id:20,ballCount:11,homeGoal:0,awayGoal:4,awayID:15,time:0}),this.hazfi.push({id:21,ballCount:4,homeGoal:0,awayGoal:5,awayID:5,time:0}),this.hazfi.push({id:22,ballCount:6,homeGoal:0,awayGoal:7,awayID:5,time:0}),this.hazfi.push({id:23,ballCount:10,homeGoal:0,awayGoal:4,awayID:9,time:0}),this.hazfi.push({id:24,ballCount:8,homeGoal:0,awayGoal:3,awayID:9,time:0}),this.hazfi.push({id:25,ballCount:5,homeGoal:0,awayGoal:5,awayID:1,time:0}),this.hazfi.push({id:26,ballCount:9,homeGoal:0,awayGoal:4,awayID:1,time:0}),this.hazfi.push({id:27,ballCount:11,homeGoal:0,awayGoal:7,awayID:12,time:0}),this.hazfi.push({id:28,ballCount:7,homeGoal:0,awayGoal:3,awayID:12,time:55}),this.hazfi.push({id:29,ballCount:11,homeGoal:0,awayGoal:7,awayID:10,time:0}),this.hazfi.push({id:30,ballCount:10,homeGoal:0,awayGoal:2,awayID:10,time:0});var t=cc.find("Canvas/TeamManager");this.teamManager=t.getComponent("TeamManager");var a=cc.find("Canvas/MatchList/background/view/content"),o=0,n=1;if(this.lastPlayer=null,this.DBStorage.setItem(this.cup+"_week_0_score",1),1==this.cup)var s=this.rubicup;else if(2==this.cup)s=this.league;else if(3==this.cup)s=this.hazfi;for(var c=function(){s[r].awayID==e.DBStorage.getItem("team",1)&&(s[r].awayID=14),o++,s[r].week=o;var t=cc.instantiate(e.matchPrefab);if(a.addChild(t),e.matchItems.push(t),t.getChildByName("WeekLbl").getComponent(cc.Label).string="\u7b2c"+o+"\u5173",cc.loader.loadRes("logo/"+e.DBStorage.getItem("team"),cc.SpriteFrame,function(e,a){t.getChildByName("score_box").getChildByName("homeLogo").getComponent(cc.Sprite).spriteFrame=a}),cc.loader.loadRes("logo/"+s[r].awayID,cc.SpriteFrame,function(e,a){t.getChildByName("score_box").getChildByName("awayLogo").getComponent(cc.Sprite).spriteFrame=a}),0==s[r].time&&t.getChildByName("time").destroy(),l=t.getChildByName("Player"),e.setPlayer(l),e.DBStorage.getItem(e.cup+"_week_"+(o-1)+"_score")>=1){if(null!=e.lastPlayer&&e.activePlayer(e.lastPlayer,!1),null==e.DBStorage.getItem(e.cup+"_detail_week_"+o))t.getChildByName("score_box").getChildByName("ResultLbl").getComponent(cc.Label).string="\u0634\u0631\u0648\u0639",t.getChildByName("score_box").color=cc.Color.YELLOW;else{var i=e.replaceNum(e.DBStorage.getItem(e.cup+"_detail_week_"+o));t.getChildByName("score_box").getChildByName("ResultLbl").getComponent(cc.Label).string=""==i||null==i?"vs":i}e.lastPlayer=l,n=o}else e.activePlayer(l,!1);e.DBStorage.getItem(e.cup+"_week_"+o+"_score")>=1?t.getChildByName("light").active=!1:t.getChildByName("light").active=!0,h=t.getComponent(cc.Button),(m=new cc.Component.EventHandler).target=e.node,m.component="MatchList",m.handler="matchClick",m.customEventData=s[r],h.clickEvents.push(m),e.DBStorage.getItem(e.cup+"_week_"+(s[r].week-1)+"_score",-1)>=1&&t.getChildByName("lock").destroy()},r=0;r<s.length;r++){var l,h,m;c()}this.node.getComponent(cc.ScrollView).scrollToPercentVertical(1-n/s.length,1)},matchClick:function(e,t){if(cc.log(this.DBStorage.getItem(this.cup+"_week_"+(t.week-1)+"_score",-1)),this.DBStorage.getItem(this.cup+"_week_"+(t.week-1)+"_score",-1)>=1){this.activePlayer(this.lastPlayer,!1);var a=this.matchItems[t.id-1].getChildByName("Player");this.lastPlayer=a,this.activePlayer(a,!0);var i=cc.find("Canvas"),o=cc.instantiate(this.playMatchPrefab);i.addChild(o);var n="";1==this.cup?n="\u0634\u0648\u062a\u06a9\u0627\u067e":2==this.cup?n="\u0644\u06cc\u06af \u0628\u0631\u062a\u0631":3==this.cup&&(n="\u062c\u0627\u0645 \u062d\u0630\u0641\u06cc");var s=o.getComponent("PlayMatch");s.leagueName=n,s.cup=this.cup,s.gameDetail=t}},setPlayer:function(e){for(var t=0;t<this.teamManager.players.length;t++)if(this.teamManager.players[t].teamID==this.DBStorage.getItem("team"))return void cc.loader.loadRes("player/defence/normal/"+this.teamManager.players[t].teamID,cc.SpriteFrame,function(t,a){e.getComponent(cc.Sprite).spriteFrame=a})},activePlayer:function(e,t){e.active=t},replaceNum:function(e){return e},close:function(){cc.find("Canvas").getComponent("MainMenu").hideMatchListAction(),this.node.destroy()}}),cc._RF.pop()},{"./MatchData":"MatchData"}],MoveNodeWithRandomSpeed:[function(e,t,a){"use strict";cc._RF.push(t,"d7a5dAQW8RPdoHhayYmx3eW","MoveNodeWithRandomSpeed"),cc.Class({extends:cc.Component,properties:{elapsedTime:{default:0,type:cc.Float},duration:{default:1.5,type:cc.Float},startPos:{default:new cc.Vec2},endPos:{default:new cc.Vec2}},start:function(){this.right=!0,this.duration=0,this.currentTime=0},stop:function(){},update:function(e){if(this.elapsedTime+=e,this.elapsedTime>this.currentTime+this.duration){var t;if(this.duration=Math.floor(2.5*Math.random()+1),this.currentTime=this.elapsedTime,1==this.right)(t=cc.moveTo(this.duration,this.endPos.x,this.endPos.y)).tag=1,this.right=!1;else(t=cc.moveTo(this.duration,this.startPos.x,this.startPos.y)).tag=1,this.right=!0;this.node.runAction(t)}}}),cc._RF.pop()},{}],MoveNode:[function(e,t,a){"use strict";cc._RF.push(t,"e788a4UHmFOD4JeFQT9psjP","MoveNode"),cc.Class({extends:cc.Component,properties:{duration:{default:1.5,type:cc.Float},startPos:{default:new cc.Vec2},endPos:{default:new cc.Vec2},delay:!1},start:function(){var e;(this.node.width>0&&(this.startPos.x=-1*this.startPos.x,this.endPos.x=-1*this.endPos.x),this.delay)?((e=cc.repeatForever(cc.sequence(cc.moveBy(this.duration,this.startPos.x,this.startPos.y),cc.moveBy(1,0,0),cc.moveBy(this.duration,this.endPos.x,this.endPos.y),cc.moveBy(1,0,0)))).tag=1,this.node.runAction(e)):((e=cc.repeatForever(cc.sequence(cc.moveBy(this.duration,this.startPos.x,this.startPos.y),cc.moveBy(this.duration,this.endPos.x,this.endPos.y)))).tag=1,this.node.runAction(e))}}),cc._RF.pop()},{}],Mushroom:[function(e,t,a){"use strict";cc._RF.push(t,"3e17akdcmNFAa0gnZFYv6Z2","Mushroom"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],OutChecker:[function(e,t,a){"use strict";cc._RF.push(t,"206a76EeBNGMIX260fxmpLW","OutChecker"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=cc.find("Canvas/GameManager");this.gameManager=e.getComponent("GameManager")},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")){e.getComponent("Ball");this.gameManager.out(),e.node.destroy()}}}),cc._RF.pop()},{}],PaddleCollider:[function(e,t,a){"use strict";cc._RF.push(t,"a2a80gN6ehI2qUoZ6Ha8S2z","PaddleCollider"),cc.Class({extends:cc.Component,properties:{rigidbody:{default:null,type:cc.RigidBody}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.rigidbody=this.node.getComponent(cc.RigidBody)}}),cc._RF.pop()},{}],PausePanel:[function(e,t,a){"use strict";cc._RF.push(t,"6cfb2wyLlVBt6nFDpOhWohH","PausePanel"),cc.Class({extends:cc.Component,properties:{},onMenuClick:function(){var e=cc.find("DBStorage").getComponent("DBStorage").data;cc.director.loadScene("StartMenu",function(t,a){cc.director.getScene().getChildByName("DBStorage").getComponent("DBStorage").load(e)})},onPlayClick:function(){cc.director.getPhysicsManager().enabled=!0,this.close()},onReplayClick:function(){var e=cc.find("DBStorage").getComponent("DBStorage").data,t=cc.find("Canvas/GameManager").getComponent("GameManager").gameDetail;cc.director.loadScene(this.getSceneName(),function(a,i){var o=cc.director.getScene(),n=o.getChildByName("Canvas").getChildByName("GameManager");o.getChildByName("DBStorage").getComponent("DBStorage").load(e),n.getComponent("GameManager").gameDetail=t})},close:function(){var e=this.getComponent(cc.Animation);e.play("DialogOut");var t=this;e.on("finished",function(e){t.node.destroy()})},getSceneName:function(){for(var e,t=cc.game._sceneInfos,a=0;a<t.length;a++)t[a].uuid==cc.director._scene._id&&(e=(e=t[a].url).substring(e.lastIndexOf("/")+1).match(/[^\.]+/)[0]);return e}}),cc._RF.pop()},{}],PenaltiGoal:[function(e,t,a){"use strict";cc._RF.push(t,"07df3zkOjFKYb7lVvrpTMvU","PenaltiGoal"),cc.Class({extends:cc.Component,properties:{},start:function(){this.penalti=this.node.parent.getComponent("Penalti"),this.goalKeeper=this.node.parent.getChildByName("GoalKeeper").getComponent("GoalKeeper")},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&1==e.tag){e.getComponent("Ball");var a=e.getComponent(cc.PhysicsCircleCollider);this.ballRestitution=a.restitution,a.restitution=0,a.apply(),this.penalti.goal(),e.name="Goal",this.schedule(function(){e.node.destroy()},1,0),this.goalKeeper.sad()}}}),cc._RF.pop()},{}],PenaltiOutChecker:[function(e,t,a){"use strict";cc._RF.push(t,"4a2e19lrXlJbZrjrbbnQ54Y","PenaltiOutChecker"),cc.Class({extends:cc.Component,properties:{},start:function(){this.penalti=this.node.parent.getComponent("Penalti")},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")){e.getComponent("Ball");this.penalti.out(),e.node.destroy()}}}),cc._RF.pop()},{}],Penalti:[function(e,t,a){"use strict";cc._RF.push(t,"6f343AHBYNH5q4ZZ2BbeAFw","Penalti"),cc.Class({extends:cc.Component,properties:{homeID:0,awayID:0},onLoad:function(){var e=cc.find("Canvas/GameManager");this.gameManager=e.getComponent("GameManager"),cc.director.getPhysicsManager().enabled=!0,cc.find("Canvas/Environment").destroy(),this.forwardPlayer=this.node.getChildByName("ForwardPlayer"),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,function(e){var t=this.forwardPlayer.getComponent(cc.CircleCollider);t&&(t.enabled=!1)},this)},start:function(){var e=this;cc.loader.loadRes("player/forward/normal/"+this.homeID,cc.SpriteFrame,function(t,a){e.forwardPlayer.getChildByName("player").getComponent(cc.Sprite).spriteFrame=a})},out:function(){this.gameManager.penaltiResualt(!1)},goal:function(){this.gameManager.penaltiResualt(!0)}}),cc._RF.pop()},{}],PlayMaker:[function(e,t,a){"use strict";cc._RF.push(t,"ca069hlGxZOBLc2I4743g4f","PlayMaker"),cc.Class({extends:cc.Component,properties:{player:{default:[],type:cc.Node},interval:.5,passDuration:.5,ballInHand:!1,forceShoot:!1,power:1500},start:function(){this.gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.currentTime=0,this.count=0,this.elapsedTime=0,this.arrowNode=this.node.getChildByName("Arrow"),this.aimNode=this.node.getChildByName("Aim"),this.arrowNode.active=!1,this.aimNode.active=!1,this.sprite=this.node.getChildByName("player").getComponent(cc.Sprite);for(var e=cc.find("Canvas/Environment"),t=0;t<e.children.length;t++){var a=e.children[t],i=a.name;a==this.node||"ForwardPlayer"!=i&&"PlayMaker"!=i||this.player.push(a)}cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,function(e){1==this.ballInHand&&(this.forceShoot?this.onShoot():this.onPass())},this)},findPointOnCircle:function(e,t,a,i){var o=Math.cos(i*Math.PI/180)*a+e,n=Math.sin(i*Math.PI/180)*a+t;return new cc.Vec2(o,n)},onPass:function(){"PlayMaker"==this.player[this.count].name&&(this.player[this.count].getComponent("PlayMaker").forceShoot=!0);this.ballInHand=!1;var e=cc.sequence(cc.scaleTo(this.passDuration/2,1.7,1.7),cc.scaleTo(this.passDuration/2,this.ball.scaleX,this.ball.scaleY));this.ball.runAction(e);var t=this.findPointOnCircle(this.player[this.count].position.x,this.player[this.count].position.y,65,this.player[this.count].angle-90),a=cc.moveTo(this.passDuration,t.x,t.y);a.setTag(1),this.ball.runAction(a),this.shoot();var i=this.ball.getComponent("Ball"),o=this.ball.getComponent(cc.CircleCollider);o.enabled=!1,this.scheduleOnce(function(){o.enabled=!0,i.inHand=!1;var e=this.findPointOnCircle(this.player[this.count].position.x,this.player[this.count].position.y,65,this.player[this.count].angle-90);this.ball.position=e},this.passDuration)},onShoot:function(){var e=this.ballNode.getComponent(cc.RigidBody);e.type=cc.RigidBodyType.Dynamic;var t=new cc.Vec2((this.node.position.x-this.ballNode.position.x)*-this.power,(this.node.position.y-this.ballNode.position.y)*-this.power);e.applyForceToCenter(t),this.arrowNode.active=!1,this.forceShoot=this.ballInHand=!1,this.ballNode.getComponent("Ball").inHand=!1,this.shoot()},normal:function(){self=this,cc.loader.loadRes("player/playMaker/normal/"+this.gameManager.gameDetail.homeID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t})},shoot:function(){self=this,console.log("\u5c04\u51fb\u3002\u3002\u3002\u3002\u3002\u3002\u3002"),cc.loader.loadRes("player/playMaker/shoot/"+this.gameManager.gameDetail.homeID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t}),this.schedule(function(){this.normal()},.1,0)},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&0==e.tag&&!this.ballInHand){var a=e.getComponent("Ball");if(a.inHand)return;this.aimNode.active=!1,a.inHand=!0,this.ballNode=e.node,this.ballNode.stopActionByTag(1),e.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.ball=e.node,this.forceShoot?(this.arrowNode.active=!0,e.node.position=this.findPointOnCircle(this.node.x,this.node.y,65,this.node.angle-90)):e.node.position=this.findPointOnCircle(this.node.x,this.node.y,-50,this.node.angle-90),this.ballInHand=!0}},update:function(e){this.elapsedTime+=e,this.ballInHand&&!this.forceShoot&&this.elapsedTime>this.currentTime+.3&&(this.currentTime=this.elapsedTime,this.player[this.count].getChildByName("Aim").active=!1,this.count<this.player.length-1?this.count++:this.count=0,this.player[this.count].getChildByName("Aim").active=!0),this.ballInHand&&(this.forceShoot?this.ballNode.position=this.findPointOnCircle(this.node.x,this.node.y,65,this.node.angle-90):this.ballNode.position=this.findPointOnCircle(this.node.x,this.node.y,-50,this.node.angle-90))}}),cc._RF.pop()},{}],PlayMatch:[function(e,t,a){"use strict";cc._RF.push(t,"2e198vTLgpNLoYKKn6r8p8m","PlayMatch"),cc.Class({extends:cc.Component,properties:{homeTeam:0,awayTeam:0,gameDetail:"",role:cc.Node,cup:1},start:function(){this.DBStorage=cc.find("DBStorage").getComponent("DBStorage"),this.weekName="",this.homeTeam=this.DBStorage.getItem("team"),this.awayTeam=this.gameDetail.awayID,this.gameDetail.homeID=this.homeTeam;var e=cc.find("Canvas/TeamManager");this.teamManager=e.getComponent("TeamManager"),this.canvas=cc.find("Canvas");var t=this;this.node.on("change-coin",function(){t.setCoin()}),cc.loader.loadRes("player/defence/normal/"+this.homeTeam,cc.SpriteFrame,function(e,a){t.role.getComponent(cc.Sprite).spriteFrame=a});var a=this.DBStorage.getItem("removeDefender",1),i=this.DBStorage.getItem("fireBall",1),o=this.DBStorage.getItem("exteraBall",1),n=this.DBStorage.getItem("freezGoalKeeper",1);this.setCoin(),this.updateFooter(a,i,o,n),this.loadingImage()},updateFooter:function(e,t,a,i){var o=this.node.getChildByName("footer");o.getChildByName("ShopItem1").getChildByName("count").getComponent(cc.Label).string=e.toString(),o.getChildByName("ShopItem2").getChildByName("count").getComponent(cc.Label).string=t.toString(),o.getChildByName("ShopItem3").getChildByName("count").getComponent(cc.Label).string=a.toString(),o.getChildByName("ShopItem4").getChildByName("count").getComponent(cc.Label).string=i.toString()},setCoin:function(){for(var e=this.DBStorage.getItem("coin",0),t=this.node.getChildByName("footer"),a=0;a<t.children.length;a++){var i=t.children[a],o=i.getChildByName("priceTxt").getComponent(cc.Label);parseInt(o.string)>e&&(i.getChildByName("priceTxt").color=new cc.Color(255,0,0))}this.node.getChildByName("coin_box").getComponentInChildren(cc.Label).string=e.toString()},replaceNum:function(e){return e},closeClick:function(){this.node.destroy()},playClick:function(){this.gameDetail.defCount=this.DBStorage.getItem("removeDefender",1),this.gameDetail.fireCount=this.DBStorage.getItem("fireBall",1),this.gameDetail.exteraBall=this.DBStorage.getItem("exteraBall",1),this.gameDetail.freezGoalKeeper=this.DBStorage.getItem("freezGoalKeeper",1);var e=this.gameDetail,t=this.DBStorage.data;cc.director.loadScene("Level"+this.cup+"-"+this.gameDetail.week,function(a,i){var o=cc.director.getScene(),n=o.getChildByName("Canvas").getChildByName("GameManager");o.getChildByName("DBStorage").getComponent("DBStorage").load(t),n.getComponent("GameManager").gameDetail=e,cc.log(n.getComponent("GameManager").gameDetail)})},loadingImage:function(){cc.loader.loadRes("player/forward/normal/"+this.gameDetail.homeID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/forward/shoot/"+this.gameDetail.homeID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/goalkeeper/normal/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/goalkeeper/freeze/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/goalkeeper/save/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/goalkeeper/sad/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/defence/normal/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/defence/hit/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/playMaker/normal/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/playMaker/shoot/"+this.gameDetail.awayID,cc.SpriteFrame,function(e,t){})},getSceneName:function(){for(var e,t=cc.game._sceneInfos,a=0;a<t.length;a++)t[a].uuid==cc.director._scene._id&&(e=(e=t[a].url).substring(e.lastIndexOf("/")+1).match(/[^\.]+/)[0]);return e},onItemClick:function(e,t){var a=this.DBStorage.getItem("coin",0),i=this.DBStorage.getItem("removeDefender",1),o=this.DBStorage.getItem("fireBall",1),n=this.DBStorage.getItem("exteraBall",1),s=this.DBStorage.getItem("freezGoalKeeper",1);1==t&&a>=3e3?(a-=3e3,i++,this.DBStorage.setItem("coin",a),this.DBStorage.setItem("removeDefender",i),this.DBStorage.save()):2==t&&a>=2e3?(a-=2e3,o++,this.DBStorage.setItem("coin",a),this.DBStorage.setItem("fireBall",o),this.DBStorage.save()):3==t&&a>=1500?(a-=1500,n++,this.DBStorage.setItem("coin",a),this.DBStorage.setItem("exteraBall",n),this.DBStorage.save()):4==t&&a>=1e3?(a-=1e3,s++,this.DBStorage.setItem("coin",a),this.DBStorage.setItem("freezGoalKeeper",s),this.DBStorage.save()):this.showMessage(),this.updateFooter(i,o,n,s),this.setCoin()},showMessage:function(){}}),cc._RF.pop()},{}],PlayerOnMenu:[function(e,t,a){"use strict";cc._RF.push(t,"02a02iM5rVGvLL2d4HuC5Uu","PlayerOnMenu"),cc.Class({extends:cc.Component,properties:{skeletonData:{type:sp.SkeletonData,default:[]}},onLoad:function(){this.spine=this.node.getComponent(sp.Skeleton)},setPlayer:function(e){this.spine.skeletonData=this.skeletonData[e],this.spine.animation="animation"}}),cc._RF.pop()},{}],RewardBox:[function(e,t,a){"use strict";cc._RF.push(t,"f9fceuppMhKE4c+6CGHUK9V","RewardBox"),cc.Class({extends:cc.Component,properties:{items:{default:[],type:cc.SpriteFrame},itemID:0},start:function(){this.childItem=this.node.getChildByName("ItemBox"),this.sprite=this.childItem.getChildByName("image").getComponent(cc.Sprite),-1!=this.itemID&&(this.sprite.spriteFrame=this.items[this.itemID]),cc.log(this.itemID),this.childItem.active=!1},open:function(e){if(this.node.getComponent(sp.Skeleton).animation="animation",-1!=this.itemID){this.childItem.active=!0;var t=cc.scaleTo(.3,1.2,1.2);if(this.childItem.runAction(t),e){var a=cc.find("DBStorage").getComponent("DBStorage");switch(this.itemID){case 0:var i=parseInt(a.getItem("coin",0));i+=100,a.setItem("coin",i),a.save();break;case 1:i=parseInt(a.getItem("coin",0));i+=200,a.setItem("coin",i),a.save();break;case 2:i=parseInt(a.getItem("coin",0));i+=300,a.setItem("coin",i),a.save();break;case 3:var o=parseInt(a.getItem("exteraBall",1));o++,a.setItem("exteraBall",o),a.save();break;case 4:var n=parseInt(a.getItem("fireBall",1));n++,a.setItem("fireBall",n),a.save();break;case 5:var s=parseInt(a.getItem("freezGoalKeeper",1));s++,a.setItem("freezGoalKeeper",s),a.save();break;case 6:var c=parseInt(a.getItem("removeDefender",1));c++,a.setItem("removeDefender",c),a.save()}}}e&&this.scheduleOnce(function(){this.node.parent.getComponent("DailyReward").openAll(this.node.name)},1)}}),cc._RF.pop()},{}],RewardPlayer:[function(e,t,a){"use strict";cc._RF.push(t,"131271YsVFIsImyH4lQjJxk","RewardPlayer"),cc.Class({extends:cc.Component,properties:{duration:{default:.8,type:cc.Float},power:{default:3e3,type:cc.Float},startRotation:{default:75,type:cc.Float},endRotation:{default:-75,type:cc.Float},homeID:5},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.DBStorage=cc.find("DBStorage").getComponent("DBStorage"),this.homeID=this.DBStorage.getItem("team")},start:function(){this.node.angle=(this.startRotation+this.endRotation)/2,this.flag=!1,this.ball=!1,this.childNode=this.node.getChildByName("Arrow"),this.aimNode=this.node.getChildByName("Aim"),this.childNode.active=!1,this.aimNode.active=!1,this.sprite=this.node.getChildByName("player").getComponent(cc.Sprite),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,function(e){this.ball&&this.onShoot()},this)},findPointOnCircle:function(e,t,a,i){var o=Math.cos(i*Math.PI/180)*a+e,n=Math.sin(i*Math.PI/180)*a+t;return new cc.Vec2(o,n)},update:function(e){this.ball&&(this.ballNode.position=this.findPointOnCircle(this.node.x,this.node.y,60,this.node.angle-90),this.ballNode.angle=this.node.angle)},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&0==e.tag&&!this.ball){this.ballNode=e.node,this.ballNode.stopActionByTag(1);e.getComponent("Ball");var a=e.getComponent(cc.RigidBody),i=new cc.Vec2(0,0);a.linearVelocity=i,a.type=cc.RigidBodyType.Static;var o=cc.rotateTo(this.duration,this.startRotation,0),n=cc.rotateTo(this.duration,this.endRotation,0);o.easing(cc.easeQuadraticActionInOut()),n.easing(cc.easeQuadraticActionInOut());var s=cc.rotateTo(this.duration/2-.1,this.startRotation,0);s.easing(cc.easeQuadraticActionInOut()),this.node.runAction(s),this.scheduleOnce(function(){var e=cc.repeatForever(cc.sequence(n,o));e.setTag(1),this.node.runAction(e)},this.duration/2),this.childNode.active=!0,this.aimNode.active=!1,this.ball=!0}},findNewPoint:function(e,t,a,i){var o=new cc.Vec2(0,0);o.x=Math.cos(a*Math.PI/180)*i+e,o.y=Math.sin(a*Math.PI/180)*i+t,this.ball.position=o},onShoot:function(){this.node.stopActionByTag(1);var e=cc.rotateTo(.3,0,0);this.node.runAction(e);var t=this.ballNode.getComponent(cc.RigidBody);t.type=cc.RigidBodyType.Dynamic;var a=new cc.Vec2((this.node.position.x-this.ballNode.position.x)*-this.power,(this.node.position.y-this.ballNode.position.y)*-this.power);t.applyForceToCenter(a),this.childNode.active=!1,this.ball=!1,this.shoot()},normal:function(){self=this,cc.loader.loadRes("player/forward/normal/"+this.homeID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t})},shoot:function(){self=this,cc.loader.loadRes("player/forward/shoot/"+this.homeID,cc.SpriteFrame,function(e,t){self.sprite.spriteFrame=t}),this.schedule(function(){this.normal()},.1,0)}}),cc._RF.pop()},{}],Rewardball:[function(e,t,a){"use strict";cc._RF.push(t,"bbf456ox0pOi7pwFF7hNNI8","Rewardball"),cc.Class({extends:cc.Component,properties:{flag:!1},onCollisionEnter:function(e,t){e.name.startsWith("Box")&&0==t.tag&&!this.flag&&(this.flag=!0,e.getComponent("RewardBox").open(!0))}}),cc._RF.pop()},{}],RotateNode:[function(e,t,a){"use strict";cc._RF.push(t,"e20d0ns1cNGUpNWxDeez8r4","RotateNode"),cc.Class({extends:cc.Component,properties:{duration:{default:1.5,type:cc.Float},startRotation:{default:0,type:cc.Float},endRotation:{default:0,type:cc.Float}},start:function(){var e=cc.repeatForever(cc.sequence(cc.rotateBy(this.duration,this.startRotation,this.startRotation),cc.rotateBy(this.duration,this.endRotation,this.endRotation)));e.tag=1,this.node.runAction(e)}}),cc._RF.pop()},{}],SoundManager:[function(e,t,a){"use strict";cc._RF.push(t,"a8eb2zenO9JXan8BqEl4/fI","SoundManager"),cc.Class({extends:cc.Component,properties:{soundOnIcon:{default:null,type:cc.SpriteFrame},soundOffIcon:{default:null,type:cc.SpriteFrame}},start:function(){var e=cc.sys.localStorage.getItem("audio");null==e&&cc.sys.localStorage.setItem("audio",1);var t=cc.find("Canvas/BackgroundMusic").getComponent(cc.AudioSource);0==e?this.node.getComponent(cc.Sprite).spriteFrame=this.soundOffIcon:t.play()},soundClick:function(){var e=cc.sys.localStorage.getItem("audio"),t=cc.find("Canvas/BackgroundMusic").getComponent(cc.AudioSource);1==e?(this.node.getComponent(cc.Sprite).spriteFrame=this.soundOffIcon,t.pause(),cc.sys.localStorage.setItem("audio",0)):(this.node.getComponent(cc.Sprite).spriteFrame=this.soundOnIcon,0==t.getCurrentTime()?t.play():t.resume(),cc.sys.localStorage.setItem("audio",1))}}),cc._RF.pop()},{}],SparkAnimation:[function(e,t,a){"use strict";cc._RF.push(t,"271a9oOJ2lJDrugPf8PonVo","SparkAnimation"),cc.Class({extends:cc.Component,properties:{sheets:{default:[],type:cc.SpriteFrame}},start:function(){var e=this.node.getComponent(cc.Sprite),t=0;this.schedule(function(){e.spriteFrame=this.sheets[t],++t>=this.sheets.length&&(t=0)},.1)}}),cc._RF.pop()},{}],Spark:[function(e,t,a){"use strict";cc._RF.push(t,"b0238ajYhBH4I+l8jDkMt92","Spark"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){if(e.name.startsWith("Ball")&&0==e.tag){var a=e.getComponent("Ball");if(a.inHand||a.fireBall)return;e.getComponent("SparkAnimation").enabled=!0;var i=cc.find("Canvas/GameManager");this.gameManager=i.getComponent("GameManager"),e.getComponent(cc.CircleCollider).enabled=!1,e.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.scheduleOnce(function(){e.node.destroy(),this.gameManager.out()},.6)}}}),cc._RF.pop()},{}],TeamManager:[function(e,t,a){"use strict";cc._RF.push(t,"19b90UDoeVHC6NE4C7uzdE2","TeamManager"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.teams=[],this.teams.push({name:"\u5ce8\u7709",id:0,price:1e4}),this.teams.push({name:"\u5c11\u6797",id:1,price:0}),this.teams.push({name:"\u53e4\u5893\u6d3e",id:2,price:0}),this.teams.push({name:"\u534e\u5c71\u6d3e",id:3,price:5e3}),this.teams.push({name:"\u5d06\u5cd2",id:4,price:1e4}),this.teams.push({name:"\u6606\u4ed1",id:5,price:0}),this.teams.push({name:"\u7075\u9e6b\u5bab",id:6,price:1e4}),this.teams.push({name:"\u9f99\u95e8\u9556\u5c40",id:7,price:2e3,numberColor:"black"}),this.teams.push({name:"\u660e\u6559",id:8,price:0}),this.teams.push({name:"\u5168\u771f",id:9,price:1e4,numberColor:"black"}),this.teams.push({name:"\u4e10\u5e2e",id:10,price:5e3}),this.teams.push({name:"\u795e\u9f99",id:11,price:5e3}),this.teams.push({name:"\u6843\u82b1\u5c9b",id:12,price:5e3,numberColor:"black"}),this.teams.push({name:"\u94c1\u638c\u5e2e",id:13,price:2e3}),this.teams.push({name:"\u6b66\u5f53",id:14,price:5e3}),this.teams.push({name:"\u661f\u5bbf\u6d3e",id:15,price:0}),this.players=[],this.players.push({teamID:0,number:5,headName:"team_ss_humam",bodyColor:2}),this.players.push({teamID:0,number:90,headName:"team_ss_mensha",bodyColor:2}),this.players.push({teamID:0,number:21,headName:"team_ss_voria",bodyColor:0}),this.players.push({teamID:1,number:10,headName:"team_ss_kh_ayoub",bodyColor:0}),this.players.push({teamID:1,number:17,headName:"team_ss_kh_darvishi",bodyColor:0}),this.players.push({teamID:1,number:2,headName:"team_ss_kh_ahmad",bodyColor:1}),this.players.push({teamID:2,number:11,headName:"team_pars_hatami",bodyColor:0}),this.players.push({teamID:2,number:4,headName:"team_pars_lotfi",bodyColor:0}),this.players.push({teamID:2,number:6,headName:"team_pars_meysam",bodyColor:0}),this.players.push({teamID:3,number:9,headName:"team_padide_ghasemi",bodyColor:0}),this.players.push({teamID:3,number:60,headName:"team_padide_shakeri",bodyColor:0}),this.players.push({teamID:3,number:7,headName:"team_padide_nasehi",bodyColor:0}),this.players.push({teamID:4,number:4,headName:"team_pers_jalal",bodyColor:0}),this.players.push({teamID:4,number:70,headName:"team_pers_alipur",bodyColor:0}),this.players.push({teamID:4,number:88,headName:"team_pers_siamak",bodyColor:0}),this.players.push({teamID:5,number:10,headName:"team_peykan_momeni",bodyColor:0}),this.players.push({teamID:5,number:11,headName:"team_peykan_ghazi",bodyColor:0}),this.players.push({teamID:5,number:6,headName:"team_peykan_magno",bodyColor:2}),this.players.push({teamID:6,number:28,headName:"team_tt_stokes",bodyColor:0}),this.players.push({teamID:6,number:21,headName:"team_tt_ashkan",bodyColor:0}),this.players.push({teamID:6,number:26,headName:"team_tt_hajsafi",bodyColor:0}),this.players.push({teamID:7,number:2,headName:"team_zob_nejad",bodyColor:0}),this.players.push({teamID:7,number:18,headName:"team_zob_khalat",bodyColor:2}),this.players.push({teamID:7,number:8,headName:"team_zob_hadadi",bodyColor:0}),this.players.push({teamID:8,number:32,headName:"team_saipa_soleimani",bodyColor:0}),this.players.push({teamID:8,number:21,headName:"team_saipa_khaledi",bodyColor:0}),this.players.push({teamID:8,number:7,headName:"team_saipa_rezavand",bodyColor:0}),this.players.push({teamID:9,number:5,headName:"team_sepahan_ezat",bodyColor:0}),this.players.push({teamID:9,number:88,headName:"team_sepahan_keyrosh",bodyColor:0}),this.players.push({teamID:9,number:8,headName:"team_sepahan_navidkia",bodyColor:0}),this.players.push({teamID:10,number:5,headName:"team_sepid_sheikh",bodyColor:0}),this.players.push({teamID:10,number:8,headName:"team_sepid_ebrahimi",bodyColor:0}),this.players.push({teamID:10,number:99,headName:"team_sepid_gholami",bodyColor:0}),this.players.push({teamID:11,number:11,headName:"team_naft_jahani",bodyColor:0}),this.players.push({teamID:11,number:10,headName:"team_naft_pakdel",bodyColor:1}),this.players.push({teamID:11,number:4,headName:"team_naft_ahl",bodyColor:1}),this.players.push({teamID:12,number:6,headName:"team_foolad_doraghi",bodyColor:0}),this.players.push({teamID:12,number:4,headName:"team_foolad_vali",bodyColor:1}),this.players.push({teamID:12,number:29,headName:"team_foolad_luciano",bodyColor:2}),this.players.push({teamID:13,number:13,headName:"team_mashin_yousefi",bodyColor:0}),this.players.push({teamID:13,number:10,headName:"team_mashin_khaleghi",bodyColor:0}),this.players.push({teamID:13,number:6,headName:"team_mashin_kanani",bodyColor:0}),this.players.push({teamID:14,number:13,headName:"team_nasaji_abashk",bodyColor:0}),this.players.push({teamID:14,number:50,headName:"team_nasaji_george",bodyColor:0}),this.players.push({teamID:14,number:33,headName:"team_nasaji_abbas",bodyColor:0}),this.players.push({teamID:15,number:88,headName:"team_masjed_sharifat",bodyColor:0}),this.players.push({teamID:15,number:10,headName:"team_masjed_milad",bodyColor:0}),this.players.push({teamID:15,number:5,headName:"team_masjed_mousa",bodyColor:2})}}),cc._RF.pop()},{}],TeamSelect:[function(e,t,a){"use strict";cc._RF.push(t,"f7a0fVIPcZNG40P3SIatG9C","TeamSelect"),cc.Class({extends:cc.Component,properties:{TeamPage:{default:null,type:cc.Prefab},teamLogo:cc.Node,priceNode:cc.Node},start:function(){var e=this;this.canvas=cc.find("Canvas");var t=cc.find("Canvas/TeamManager");this.teamManager=t.getComponent("TeamManager");var a=cc.find("Canvas/Team PageView/view/content");this.leftBtn=this.node.getChildByName("LeftBtn"),this.rightBtn=this.node.getChildByName("Rightbtn"),this.DBStorage=cc.find("DBStorage").getComponent("DBStorage");var i=this;this.node.on("change-coin",function(){i.setCoin()}),this.page=1;for(var o=function(){var t=cc.instantiate(e.TeamPage);for(a.addChild(t),a.getComponent(cc.Layout).updateLayout(),cc.loader.loadRes("name/"+e.teamManager.teams[n].id,cc.SpriteFrame,function(e,a){t.getChildByName("team_logo").getChildByName("TeamNameLbl").getComponent(cc.Sprite).spriteFrame=a}),s=t.getChildByName("SelectBtn").getComponent(cc.Button),"yes"!=e.DBStorage.getItem("buyTeam_"+e.teamManager.teams[n].id)&&0!=e.teamManager.teams[n].price?(s.node.getChildByName("coin").active=!0,s.node.getChildByName("BtnLbl").getComponent(cc.Label).string=e.teamManager.teams[n].price+" "):(s.node.getChildByName("BtnLbl").active=!1,s.node.getChildByName("chooseTip").active=!0),(c=new cc.Component.EventHandler).target=e.node,c.component="TeamSelect",c.handler="selectTeam",c.customEventData=e.teamManager.teams[n].id,s.clickEvents.push(c),cc.loader.loadRes("logo/"+e.teamManager.teams[n].id,cc.SpriteFrame,function(e,a){t.getChildByName("team_logo").getComponent(cc.Sprite).spriteFrame=a}),r=0,l=0;l<e.teamManager.players.length;l++)e.teamManager.players[l].teamID==e.teamManager.teams[n].id&&(1==++r?cc.loader.loadRes("player/forward/normal/"+e.teamManager.players[l].teamID,cc.SpriteFrame,function(e,a){t.getChildByName("team").getChildByName("Shadow1").getChildByName("Player1").getComponent(cc.Sprite).spriteFrame=a}):2==r?cc.loader.loadRes("player/defence/normal/"+e.teamManager.players[l].teamID,cc.SpriteFrame,function(e,a){t.getChildByName("team").getChildByName("Shadow2").getChildByName("Player2").getComponent(cc.Sprite).spriteFrame=a}):3==r&&cc.loader.loadRes("player/playMaker/normal/"+e.teamManager.players[l].teamID,cc.SpriteFrame,function(e,a){t.getChildByName("team").getChildByName("Shadow3").getChildByName("Player3").getComponent(cc.Sprite).spriteFrame=a}))},n=0;n<this.teamManager.teams.length;n++){var s,c,r,l;o()}this.node.getComponent(cc.PageView).content=a;a=cc.find("Canvas/Team PageView/view/content");this.startX=a.x,this.setCoin(),this.teamLogo=a.children[16].children[0],this.priceNode=a.children[16].children[2],this.teamLogo.setPosition(cc.v2(-500,this.teamLogo.y)),this.priceNode.setPosition(cc.v2(-500,this.priceNode.y)),setTimeout(function(){e.enterAni()},500),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},touchStart:function(e){cc.log("\u89e6\u6478\u5f00\u59cb"),this.startPosition=e.getLocation()},touchMove:function(e){this.movePosition=e.getLocation();var t=this.movePosition.x-this.startPosition.x,a=this.node.getComponent(cc.PageView);if(this.pageIndex=a.getCurrentPageIndex(),Math.abs(t)>50&&t>0){if(a.getCurrentPageIndex()+1==1)return;cc.log("\u5411\u524d\u7ffb\u9875"),this.previousPageShow(a)}else if(Math.abs(t)>50&&t<0){if(a.getCurrentPageIndex()+1==a.getPages().length)return;cc.log("\u5411\u540e\u7ffb\u9875"),this.nextPageShow(a)}},touchEnd:function(){var e=this,t=this.node.getComponent(cc.PageView);if(this.pageIndex==t.getCurrentPageIndex()){var a=cc.find("Canvas/Team PageView/view/content"),i=a.children[16+t.getCurrentPageIndex()].children[0],o=a.children[16+t.getCurrentPageIndex()].children[2];i.active=!0,o.active=!0,setTimeout(function(){0==e.pageIndex?e.leftBtn.active=!1:e.pageIndex==t.getPages().length-1&&(e.rightBtn.active=!1)},500)}},enterAni:function(){this.teamLogo.runAction(cc.moveTo(.5,cc.v2(0,this.teamLogo.y))),this.priceNode.runAction(cc.moveTo(.5,cc.v2(0,this.priceNode.y)))},setCoin:function(){var e=parseInt(this.DBStorage.getItem("coin",0));this.node.getChildByName("coin_box").getComponentInChildren(cc.Label).string=e.toString()},replaceNum:function(e){return e.replace(/1/g,"\u06f1").replace(/2/g,"\u06f2").replace(/3/g,"\u06f3").replace(/4/g,"\u06f4").replace(/5/g,"\u06f5").replace(/6/g,"\u06f6").replace(/7/g,"\u06f7").replace(/8/g,"\u06f8").replace(/9/g,"\u06f9").replace(/0/g,"\u06f0")},nextPageShow:function(e){var t=this;this.leftBtn.active=!1,this.rightBtn.active=!1,cc.log(e.getCurrentPageIndex());var a=cc.find("Canvas/Team PageView/view/content"),i=a.children[16+e.getCurrentPageIndex()+1].children[0],o=a.children[16+e.getCurrentPageIndex()+1].children[2],n=a.children[16+e.getCurrentPageIndex()].children[0],s=a.children[16+e.getCurrentPageIndex()].children[2];i.active=!1,o.active=!1,n.active=!1,s.active=!1,setTimeout(function(){i.active=!0,o.active=!0,t.leftBtn.active=!0,e.getCurrentPageIndex()+1==e.getPages().length?t.rightBtn.active=!1:t.rightBtn.active=!0},600)},nextPage:function(e,t){var a=this.node.getComponent(cc.PageView);a.getCurrentPageIndex()+1!=a.getPages().length&&(this.nextPageShow(a),a.setCurrentPageIndex((a.getCurrentPageIndex()+1)%a.getPages().length))},previousPageShow:function(e){var t=this;this.leftBtn.active=!1,this.rightBtn.active=!1;var a=cc.find("Canvas/Team PageView/view/content"),i=a.children[16+e.getCurrentPageIndex()-1].children[0],o=a.children[16+e.getCurrentPageIndex()-1].children[2],n=a.children[16+e.getCurrentPageIndex()].children[0],s=a.children[16+e.getCurrentPageIndex()].children[2];i.active=!1,o.active=!1,n.active=!1,s.active=!1,setTimeout(function(){i.active=!0,o.active=!0,e.getCurrentPageIndex()+1==1?t.leftBtn.active=!1:t.leftBtn.active=!0,t.rightBtn.active=!0},600)},previousPage:function(e,t){var a=this.node.getComponent(cc.PageView);a.getCurrentPageIndex()+1!=1&&(this.previousPageShow(a),a.setCurrentPageIndex((a.getPages().length+a.getCurrentPageIndex()-1)%a.getPages().length))},selectTeam:function(e,t){"yes"!=this.DBStorage.getItem("buyTeam_"+this.teamManager.teams[t].id)&&0!=this.teamManager.teams[t].price?this.DBStorage.getItem("coin")>=this.teamManager.teams[t].price&&this.buyTeam(null,t):(this.DBStorage.setItem("team",t),this.DBStorage.save(),cc.find("Canvas").getComponent("MainMenu").setPlayer(t),this.close())},buyTeam:function(e,t){var a=this.DBStorage.getItem("coin");this.DBStorage.setItem("team",t),this.DBStorage.setItem("buyTeam_"+this.teamManager.teams[t].id,"yes"),a-=this.teamManager.teams[t].price,this.DBStorage.setItem("coin",a),this.DBStorage.save(),cc.find("Canvas").getComponent("MainMenu").setPlayer(t),this.close()},loadImage:function(e){if(e<this.teamManager.players.length){var t=this;cc.loader.loadRes("player/body/"+this.teamManager.players[e].bodyColor,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("player/head/"+this.teamManager.players[e].headName,cc.SpriteFrame,function(e,t){}),cc.loader.loadRes("jersey/"+this.teamManager.players[e].teamID,cc.SpriteFrame,function(a,i){t.loadImage(++e)}),cc.loader.loadRes("logo/"+this.teamManager.players[e].teamID,cc.SpriteFrame,function(e,t){})}},close:function(){cc.find("Canvas").getComponent("MainMenu").hideTeampageAction(),this.node.destroy()}}),cc._RF.pop()},{}],World:[function(e,t,a){"use strict";cc._RF.push(t,"78e58qmE3pH5L9b4Qmgqqp6","World"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t,a){"use strict";cc._RF.push(t,"758c9NxGZxA3oTKcrQ0fVng","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["AddBall","Ball","BounceBall","DBStorage","DailyReward","DefensePlayer","DestroyByCount","EndMatch","FloatingBall","FooterItem","ForwardPlayer","GameManager","Goal","GoalEvent","GoalKeeper","HintAnimation","JimmyJump","Leaderboard","Loading","MainMenu","MatchData","MatchList","MoveNode","MoveNodeWithRandomSpeed","Mushroom","OutChecker","PaddleCollider","PausePanel","Penalti","PenaltiGoal","PenaltiOutChecker","PlayMaker","PlayMatch","PlayerOnMenu","RewardBox","RewardPlayer","Rewardball","RotateNode","SoundManager","Spark","SparkAnimation","TeamManager","TeamSelect","World","use_v2.0.x_cc.Toggle_event"]);